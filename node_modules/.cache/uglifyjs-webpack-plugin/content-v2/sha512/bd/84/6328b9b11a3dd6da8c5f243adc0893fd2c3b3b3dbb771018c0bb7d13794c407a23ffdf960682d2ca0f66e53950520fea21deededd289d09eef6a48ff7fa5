{"code":"module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=3)}([function(e,t){e.exports=require(\"express\")},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n={MONGO_URL:\"mongodb://localhost/restapi-dev\"},s={MONGO_URL:\"mongodb://localhost/restapi-test\"},i={MONGO_URL:\"mongodb://localhost/restapi-prod\"},o={PORT:process.env.PORT||3e3};t.default=Object.assign({},o,function(e){switch(e){case\"development\":return n;case\"test\":return s;default:return i}}(\"production\"))},function(e,t){e.exports=require(\"mongoose\")},function(e,t,r){\"use strict\";var n=a(r(0)),s=a(r(1));r(4);var i=a(r(5)),o=a(r(10));function a(e){return e&&e.__esModule?e:{default:e}}const c=(0,n.default)();(0,i.default)(c),c.get(\"/\",(e,t)=>{t.send(\"Hello World\")}),(0,o.default)(c),c.listen(s.default.PORT,e=>{if(e)throw e;console.log(`\\n    Server is running on port: ${s.default.PORT}\\n    --------\\n    Running on production\\n    --------\\n    Let's get it!!\\n    `)})},function(e,t,r){\"use strict\";var n=i(r(2)),s=i(r(1));function i(e){return e&&e.__esModule?e:{default:e}}n.default.Promise=global.Promise;try{n.default.connect(s.default.MONGO_URL)}catch(e){n.default.createConnection(s.default.MONGO_URL)}n.default.connection.once(\"open\",()=>console.log(\"MongoDB Running\")).on(\"error\",e=>{throw e})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=o(r(6)),s=(o(r(7)),o(r(8))),i=o(r(9));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(e=>{e.use((0,s.default)()),e.use((0,i.default)()),e.use(n.default.json()),e.use(n.default.urlencoded({extended:!0}))})},function(e,t){e.exports=require(\"body-parser\")},function(e,t){e.exports=require(\"morgan\")},function(e,t){e.exports=require(\"compression\")},function(e,t){e.exports=require(\"helmet\")},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(11));t.default=(e=>{e.use(\"/api/v1/users\",n.default)})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(12));const i=new n.Router;i.post(\"/signup\",s.signUp),t.default=i},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.signUp=async function(e,t){try{const r=await n.default.create(e.body);return t.status(201).json(r)}catch(e){return t.status(500).json(e)}};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(13))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(2),s=a(n),i=a(r(14)),o=r(15);function a(e){return e&&e.__esModule?e:{default:e}}const c=new n.Schema({email:{type:String,unique:!0,required:[!0,\"Email is required!\"],trim:!0,validate:{validator:e=>i.default.isEmail(e),message:\"{VALUE} is not a valid email!\"}},firstName:{type:String,required:[!0,\"First name is required\"],trim:!0},lastName:{type:String,required:[!0,\"Last name is required\"],trim:!0},userName:{type:String,required:[!0,\"Username is required\"],trim:!0},password:{type:String,required:[!0,\"Password is required!\"],trim:!0,minlength:[6,\"Password need to be longer!\"],validate:{validator:e=>o.passwordReg.test(e),message:\"{VALUE} is not a valid password!\"}}});t.default=s.default.model(\"User\",c)},function(e,t){e.exports=require(\"validator\")},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.passwordReg=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(21));const s=t.passwordReg=/(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,}/;t.default={signup:{body:{email:n.default.string().email().required(),password:n.default.string().regex(s).required(),firstName:n.default.string().required(),lastName:n.default.string().required(),userName:n.default.string().required()}}}},function(e,t,r){\"use strict\";const n=r(29),s=r(30),i=r(31),o=r(22),a=r(32),c={};t.clone=function(e,r){if(\"object\"!=typeof e||null===e)return e;const n=(r=r||new Map).get(e);if(n)return n;let s,i=!1;if(Array.isArray(e))s=[],i=!0;else if(Buffer.isBuffer(e))s=Buffer.from(e);else if(e instanceof Date)s=new Date(e.getTime());else if(e instanceof RegExp)s=new RegExp(e);else{const t=Object.getPrototypeOf(e);t&&t.isImmutable?s=e:(s=Object.create(t),i=!0)}if(r.set(e,s),i){const n=Object.getOwnPropertyNames(e);for(let i=0;i<n.length;++i){const o=n[i],a=Object.getOwnPropertyDescriptor(e,o);a&&(a.get||a.set)?Object.defineProperty(s,o,a):s[o]=t.clone(e[o],r)}}return s},t.merge=function(e,r,n,s){if(t.assert(e&&\"object\"==typeof e,\"Invalid target value: must be an object\"),t.assert(null===r||void 0===r||\"object\"==typeof r,\"Invalid source value: must be null, undefined, or an object\"),!r)return e;if(Array.isArray(r)){t.assert(Array.isArray(e),\"Cannot merge array onto an object\"),!1===s&&(e.length=0);for(let n=0;n<r.length;++n)e.push(t.clone(r[n]));return e}const i=Object.keys(r);for(let o=0;o<i.length;++o){const a=i[o];if(\"__proto__\"===a)continue;const c=r[a];c&&\"object\"==typeof c?!e[a]||\"object\"!=typeof e[a]||Array.isArray(e[a])!==Array.isArray(c)||c instanceof Date||Buffer.isBuffer(c)||c instanceof RegExp?e[a]=t.clone(c):t.merge(e[a],c,n,s):null!==c&&void 0!==c?e[a]=c:!1!==n&&(e[a]=c)}return e},t.applyToDefaults=function(e,r,n){if(t.assert(e&&\"object\"==typeof e,\"Invalid defaults value: must be an object\"),t.assert(!r||!0===r||\"object\"==typeof r,\"Invalid options value: must be true, falsy or an object\"),!r)return null;const s=t.clone(e);return!0===r?s:t.merge(s,r,!0===n,!1)},t.cloneWithShallow=function(e,r){if(!e||\"object\"!=typeof e)return e;const n=c.store(e,r),s=t.clone(e);return c.restore(s,e,n),s},c.store=function(e,r){const n={};for(let s=0;s<r.length;++s){const i=r[s],o=t.reach(e,i);void 0!==o&&(n[i]=o,c.reachSet(e,i,void 0))}return n},c.restore=function(e,t,r){const n=Object.keys(r);for(let s=0;s<n.length;++s){const i=n[s];c.reachSet(e,i,r[i]),c.reachSet(t,i,r[i])}},c.reachSet=function(e,t,r){const n=t.split(\".\");let s=e;for(let e=0;e<n.length;++e){const t=n[e];e+1===n.length&&(s[t]=r),s=s[t]}},t.applyToDefaultsWithShallow=function(e,r,n){if(t.assert(e&&\"object\"==typeof e,\"Invalid defaults value: must be an object\"),t.assert(!r||!0===r||\"object\"==typeof r,\"Invalid options value: must be true, falsy or an object\"),t.assert(n&&Array.isArray(n),\"Invalid keys\"),!r)return null;const s=t.cloneWithShallow(e,n);if(!0===r)return s;const i=c.store(r,n);return t.merge(s,r,!1,!1),c.restore(s,r,i),s},t.deepEqual=function(e,r,n,s){n=n||{prototype:!0};const i=typeof e;if(i!==typeof r)return!1;if(\"object\"!==i||null===e||null===r)return e===r?0!==e||1/e==1/r:e!=e&&r!=r;if(-1!==(s=s||[]).indexOf(e))return!0;if(s.push(e),Array.isArray(e)){if(!Array.isArray(r))return!1;if(!n.part&&e.length!==r.length)return!1;for(let s=0;s<e.length;++s){if(n.part){let i=!1;for(let o=0;o<r.length;++o)if(t.deepEqual(e[s],r[o],n)){i=!0;break}return i}if(!t.deepEqual(e[s],r[s],n))return!1}return!0}if(Buffer.isBuffer(e)){if(!Buffer.isBuffer(r))return!1;if(e.length!==r.length)return!1;for(let t=0;t<e.length;++t)if(e[t]!==r[t])return!1;return!0}if(e instanceof Date)return r instanceof Date&&e.getTime()===r.getTime();if(e instanceof RegExp)return r instanceof RegExp&&e.toString()===r.toString();if(n.prototype&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(r))return!1;const o=Object.getOwnPropertyNames(e);if(!n.part&&o.length!==Object.getOwnPropertyNames(r).length)return!1;for(let i=0;i<o.length;++i){const a=o[i],c=Object.getOwnPropertyDescriptor(e,a);if(c.get){if(!t.deepEqual(c,Object.getOwnPropertyDescriptor(r,a),n,s))return!1}else if(!t.deepEqual(e[a],r[a],n,s))return!1}return!0},t.unique=((e,t)=>{let r;if(t){r=[];const n=new Set;e.forEach(e=>{const s=e[t];n.has(s)||(n.add(s),r.push(e))})}else r=Array.from(new Set(e));return r}),t.mapToObject=function(e,t){if(!e)return null;const r={};for(let n=0;n<e.length;++n)t?e[n][t]&&(r[e[n][t]]=!0):r[e[n]]=!0;return r},t.intersect=function(e,r,n){if(!e||!r)return[];const s=[],i=Array.isArray(e)?t.mapToObject(e):e,o={};for(let e=0;e<r.length;++e)if(i[r[e]]&&!o[r[e]]){if(n)return r[e];s.push(r[e]),o[r[e]]=!0}return n?null:s},t.contain=function(e,r,n){let s,i,o=null;if(\"object\"!=typeof e||\"object\"!=typeof r||Array.isArray(e)||Array.isArray(r)?r=[].concat(r):(o=r,r=Object.keys(r)),n=n||{},t.assert(\"string\"==typeof e||\"object\"==typeof e,\"Reference must be string or an object\"),t.assert(r.length,\"Values array cannot be empty\"),n.deep){s=t.deepEqual;const e=n.hasOwnProperty(\"only\"),r=n.hasOwnProperty(\"part\");i={prototype:e?n.only:!!r&&!n.part,part:e?!n.only:!r||n.part}}else s=((e,t)=>e===t);let a=!1;const c=new Array(r.length);for(let e=0;e<c.length;++e)c[e]=0;if(\"string\"==typeof e){let n=\"(\";for(let e=0;e<r.length;++e){const s=r[e];t.assert(\"string\"==typeof s,\"Cannot compare string reference to non-string value\"),n+=(e?\"|\":\"\")+t.escapeRegex(s)}const s=new RegExp(n+\")\",\"g\");a=!!e.replace(s,(e,t)=>{const n=r.indexOf(t);return++c[n],\"\"})}else if(Array.isArray(e))for(let t=0;t<e.length;++t){let n=!1;for(let o=0;o<r.length&&!1===n;++o)n=s(r[o],e[t],i)&&o;!1!==n?++c[n]:a=!0}else{const t=Object.getOwnPropertyNames(e);for(let n=0;n<t.length;++n){const l=t[n],u=r.indexOf(l);if(-1!==u){if(o&&!s(o[l],e[l],i))return!1;++c[u]}else a=!0}}let l=!1;for(let e=0;e<c.length;++e)if(l=l||!!c[e],n.once&&c[e]>1||!n.part&&!c[e])return!1;return(!n.only||!a)&&l},t.flatten=function(e,r){const n=r||[];for(let r=0;r<e.length;++r)Array.isArray(e[r])?t.flatten(e[r],n):n.push(e[r]);return n},t.reach=function(e,r,n){if(!1===r||null===r||void 0===r)return e;\"string\"==typeof(n=n||{})&&(n={separator:n});const s=r.split(n.separator||\".\");let i=e;for(let e=0;e<s.length;++e){let o=s[e];if(\"-\"===o[0]&&Array.isArray(i)&&(o=o.slice(1,o.length),o=i.length-o),!i||\"object\"!=typeof i&&\"function\"!=typeof i||!(o in i)||\"object\"!=typeof i&&!1===n.functions){t.assert(!n.strict||e+1===s.length,\"Missing segment\",o,\"in reach path \",r),t.assert(\"object\"==typeof i||!0===n.functions||\"function\"!=typeof i,\"Invalid segment\",o,\"in reach path \",r),i=n.default;break}i=i[o]}return i},t.reachTemplate=function(e,r,n){return r.replace(/{([^}]+)}/g,(r,s)=>{const i=t.reach(e,s,n);return void 0===i||null===i?\"\":i})},t.formatStack=function(e){const t=[];for(let r=0;r<e.length;++r){const n=e[r];t.push([n.getFileName(),n.getLineNumber(),n.getColumnNumber(),n.getFunctionName(),n.isConstructor()])}return t},t.formatTrace=function(e){const t=[];for(let r=0;r<e.length;++r){const n=e[r];t.push((n[4]?\"new \":\"\")+n[3]+\" (\"+n[0]+\":\"+n[1]+\":\"+n[2]+\")\")}return t},t.callStack=function(e){const r=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};const n={};Error.captureStackTrace(n,this);const s=n.stack;return Error.prepareStackTrace=r,t.formatStack(s).slice(1+e)},t.displayStack=function(e){const r=t.callStack(void 0===e?1:e+1);return t.formatTrace(r)},t.abortThrow=!1,t.abort=function(e,r){if(!0===t.abortThrow)throw new Error(e||\"Unknown error\");let n=\"\";r||(n=t.displayStack(1).join(\"\\n\\t\")),console.log(\"ABORT: \"+e+\"\\n\\t\"+n),process.exit(1)},t.assert=function(e,...r){if(e)return;if(1===r.length&&r[0]instanceof Error)throw r[0];const s=r.filter(e=>\"\"!==e).map(e=>\"string\"==typeof e?e:e instanceof Error?e.message:t.stringify(e));throw new n.AssertionError({message:s.join(\" \")||\"Unknown error\",actual:!1,expected:!0,operator:\"==\",stackStartFunction:t.assert})},t.Bench=function(){this.ts=0,this.reset()},t.Bench.prototype.reset=function(){this.ts=t.Bench.now()},t.Bench.prototype.elapsed=function(){return t.Bench.now()-this.ts},t.Bench.now=function(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6},t.escapeRegex=function(e){return e.replace(/[\\^\\$\\.\\*\\+\\-\\?\\=\\!\\:\\|\\\\\\/\\(\\)\\[\\]\\{\\}\\,]/g,\"\\\\$&\")},t.base64urlEncode=function(e,r){return t.assert(\"string\"==typeof e||Buffer.isBuffer(e),\"value must be string or buffer\"),(Buffer.isBuffer(e)?e:Buffer.from(e,r||\"binary\")).toString(\"base64\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\").replace(/\\=/g,\"\")},t.base64urlDecode=function(e,t){if(\"string\"!=typeof e)throw new Error(\"Value not a string\");if(!/^[\\w\\-]*$/.test(e))throw new Error(\"Invalid character\");const r=Buffer.from(e,\"base64\");return\"buffer\"===t?r:r.toString(t||\"binary\")},t.escapeHeaderAttribute=function(e){return t.assert(/^[ \\w\\!#\\$%&'\\(\\)\\*\\+,\\-\\.\\/\\:;<\\=>\\?@\\[\\]\\^`\\{\\|\\}~\\\"\\\\]*$/.test(e),\"Bad attribute value (\"+e+\")\"),e.replace(/\\\\/g,\"\\\\\\\\\").replace(/\\\"/g,'\\\\\"')},t.escapeHtml=function(e){return a.escapeHtml(e)},t.escapeJavaScript=function(e){return a.escapeJavaScript(e)},t.escapeJson=function(e){return a.escapeJson(e)},t.once=function(e){if(e._hoekOnce)return e;let t=!1;const r=function(...r){t||(t=!0,e.apply(null,r))};return r._hoekOnce=!0,r},t.isInteger=Number.isSafeInteger,t.ignore=function(){},t.inherits=o.inherits,t.format=o.format,t.transform=function(e,r,n){t.assert(null===e||void 0===e||\"object\"==typeof e||Array.isArray(e),\"Invalid source object: must be null, undefined, an object, or an array\");const s=\"object\"==typeof n&&null!==n&&n.separator||\".\";if(Array.isArray(e)){const s=[];for(let i=0;i<e.length;++i)s.push(t.transform(e[i],r,n));return s}const i={},o=Object.keys(r);for(let a=0;a<o.length;++a){const c=o[a],l=c.split(s),u=r[c];let f;t.assert(\"string\"==typeof u,'All mappings must be \".\" delineated strings');let h=i;for(;l.length>1;)h[f=l.shift()]||(h[f]={}),h=h[f];h[f=l.shift()]=t.reach(e,u,n)}return i},t.uniqueFilename=function(e,t){t=t?\".\"!==t[0]?\".\"+t:t:\"\",e=i.resolve(e);const r=[Date.now(),process.pid,s.randomBytes(8).toString(\"hex\")].join(\"-\")+t;return i.join(e,r)},t.stringify=function(...e){try{return JSON.stringify.apply(null,e)}catch(e){return\"[Cannot display object: \"+e.message+\"]\"}},t.shallow=function(e){const t={},r=Object.keys(e);for(let n=0;n<r.length;++n){const s=r[n];t[s]=e[s]}return t},t.wait=function(e){return new Promise(t=>setTimeout(t,e))},t.block=function(){return new Promise(t.ignore)}},function(e,t,r){\"use strict\";const n=r(16),s=r(23),i=r(18),o=r(20);let a=null,c=null;const l={Set:r(24),defaults:{abortEarly:!0,convert:!0,allowUnknown:!1,skipFunctions:!1,stripUnknown:!1,language:{},presence:\"optional\",strip:!1,noDefaults:!1,escapeHtml:!1}};e.exports=l.Any=class{constructor(){c=c||r(19),this.isJoi=!0,this._type=\"any\",this._settings=null,this._valids=new l.Set,this._invalids=new l.Set,this._tests=[],this._refs=[],this._flags={},this._description=null,this._unit=null,this._notes=[],this._tags=[],this._examples=[],this._meta=[],this._inner={}}_init(){return this}get schemaType(){return this._type}createError(e,t,r,n,s=this._flags){return o.create(e,t,r,n,s)}createOverrideError(e,t,r,n,s,i){return o.create(e,t,r,n,this._flags,s,i)}checkOptions(e){const t=r(34).options.validate(e);if(t.error)throw new Error(t.error.details[0].message)}clone(){const e=Object.create(Object.getPrototypeOf(this));e.isJoi=!0,e._currentJoi=this._currentJoi,e._type=this._type,e._settings=this._settings,e._baseType=this._baseType,e._valids=this._valids.slice(),e._invalids=this._invalids.slice(),e._tests=this._tests.slice(),e._refs=this._refs.slice(),e._flags=n.clone(this._flags),e._description=this._description,e._unit=this._unit,e._notes=this._notes.slice(),e._tags=this._tags.slice(),e._examples=this._examples.slice(),e._meta=this._meta.slice(),e._inner={};const t=Object.keys(this._inner);for(let r=0;r<t.length;++r){const n=t[r];e._inner[n]=this._inner[n]?this._inner[n].slice():null}return e}concat(e){n.assert(e instanceof l.Any,\"Invalid schema object\"),n.assert(\"any\"===this._type||\"any\"===e._type||e._type===this._type,\"Cannot merge type\",this._type,\"with another type:\",e._type);let t=this.clone();if(\"any\"===this._type&&\"any\"!==e._type){const r=e.clone(),n=[\"_settings\",\"_valids\",\"_invalids\",\"_tests\",\"_refs\",\"_flags\",\"_description\",\"_unit\",\"_notes\",\"_tags\",\"_examples\",\"_meta\",\"_inner\"];for(let e=0;e<n.length;++e)r[n[e]]=t[n[e]];t=r}t._settings=t._settings?s.concat(t._settings,e._settings):e._settings,t._valids.merge(e._valids,e._invalids),t._invalids.merge(e._invalids,e._valids),t._tests=t._tests.concat(e._tests),t._refs=t._refs.concat(e._refs),n.merge(t._flags,e._flags),t._description=e._description||t._description,t._unit=e._unit||t._unit,t._notes=t._notes.concat(e._notes),t._tags=t._tags.concat(e._tags),t._examples=t._examples.concat(e._examples),t._meta=t._meta.concat(e._meta);const r=Object.keys(e._inner),i=\"object\"===t._type;for(let n=0;n<r.length;++n){const s=r[n],o=e._inner[s];if(o){const e=t._inner[s];if(e)if(i&&\"children\"===s){const t={};for(let r=0;r<e.length;++r)t[e[r].key]=r;for(let r=0;r<o.length;++r){const n=o[r].key;t[n]>=0?e[t[n]]={key:n,schema:e[t[n]].schema.concat(o[r].schema)}:e.push(o[r])}}else t._inner[s]=t._inner[s].concat(o);else t._inner[s]=o.slice()}}return t}_test(e,t,r,n){const s=this.clone();return s._tests.push({func:r,name:e,arg:t,options:n}),s}options(e){n.assert(!e.context,\"Cannot override context\"),this.checkOptions(e);const t=this.clone();return t._settings=s.concat(t._settings,e),t}strict(e){const t=this.clone(),r=void 0!==e&&!e;return t._settings=s.concat(t._settings,{convert:r}),t}raw(e){const t=void 0===e||e;if(this._flags.raw===t)return this;const r=this.clone();return r._flags.raw=t,r}error(e){n.assert(e&&(e instanceof Error||\"function\"==typeof e),\"Must provide a valid Error object or a function\");const t=this.clone();return t._flags.error=e,t}allow(...e){const t=this.clone();e=n.flatten(e);for(let r=0;r<e.length;++r){const s=e[r];n.assert(void 0!==s,\"Cannot call allow/valid/invalid with undefined\"),t._invalids.remove(s),t._valids.add(s,t._refs)}return t}valid(...e){const t=this.allow(...e);return t._flags.allowOnly=!0,t}invalid(...e){const t=this.clone();e=n.flatten(e);for(let r=0;r<e.length;++r){const s=e[r];n.assert(void 0!==s,\"Cannot call allow/valid/invalid with undefined\"),t._valids.remove(s),t._invalids.add(s,t._refs)}return t}required(){if(\"required\"===this._flags.presence)return this;const e=this.clone();return e._flags.presence=\"required\",e}optional(){if(\"optional\"===this._flags.presence)return this;const e=this.clone();return e._flags.presence=\"optional\",e}forbidden(){if(\"forbidden\"===this._flags.presence)return this;const e=this.clone();return e._flags.presence=\"forbidden\",e}strip(){if(this._flags.strip)return this;const e=this.clone();return e._flags.strip=!0,e}applyFunctionToChildren(e,t,r,n){if(1!==(e=[].concat(e)).length||\"\"!==e[0]){n=n?n+\".\":\"\";const t=(\"\"===e[0]?e.slice(1):e).map(e=>n+e);throw new Error(\"unknown key(s) \"+t.join(\", \"))}return this[t].apply(this,r)}default(e,t){\"function\"!=typeof e||i.isRef(e)||(!e.description&&t&&(e.description=t),this._flags.func||n.assert(\"string\"==typeof e.description&&e.description.length>0,\"description must be provided when default value is a function\"));const r=this.clone();return r._flags.default=e,i.push(r._refs,e),r}empty(e){const t=this.clone();return void 0===e?delete t._flags.empty:t._flags.empty=c.schema(this._currentJoi,e),t}when(e,t){n.assert(t&&\"object\"==typeof t,\"Invalid options\"),n.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of \"then\" or \"otherwise\"');const s=t.hasOwnProperty(\"then\")?this.concat(c.schema(this._currentJoi,t.then)):void 0,i=t.hasOwnProperty(\"otherwise\")?this.concat(c.schema(this._currentJoi,t.otherwise)):void 0;a=a||r(25);const o={then:s,otherwise:i};Object.prototype.hasOwnProperty.call(t,\"is\")&&(o.is=t.is);const l=a.when(e,o);return l._flags.presence=\"ignore\",l._baseType=this,l}description(e){n.assert(e&&\"string\"==typeof e,\"Description must be a non-empty string\");const t=this.clone();return t._description=e,t}notes(e){n.assert(e&&(\"string\"==typeof e||Array.isArray(e)),\"Notes must be a non-empty string or array\");const t=this.clone();return t._notes=t._notes.concat(e),t}tags(e){n.assert(e&&(\"string\"==typeof e||Array.isArray(e)),\"Tags must be a non-empty string or array\");const t=this.clone();return t._tags=t._tags.concat(e),t}meta(e){n.assert(void 0!==e,\"Meta cannot be undefined\");const t=this.clone();return t._meta=t._meta.concat(e),t}example(...e){n.assert(1===e.length,\"Missing example\");const t=e[0],r=this.clone();return r._examples.push(t),r}unit(e){n.assert(e&&\"string\"==typeof e,\"Unit name must be a non-empty string\");const t=this.clone();return t._unit=e,t}_prepareEmptyValue(e){return\"string\"==typeof e&&this._flags.trim?e.trim():e}_validate(e,t,r,a){const c=e;t=t||{key:\"\",path:[],parent:null,reference:a},this._settings&&(r=s.concat(r,this._settings));let u=[];const f=()=>{let s;if(void 0!==e)s=this._flags.raw?c:e;else if(r.noDefaults)s=e;else if(i.isRef(this._flags.default))s=this._flags.default(t.parent,r);else if(\"function\"!=typeof this._flags.default||this._flags.func&&!this._flags.default.description)s=n.clone(this._flags.default);else{let e;null!==t.parent&&this._flags.default.length>0&&(e=[n.clone(t.parent),r]);const i=l._try(this._flags.default,e);s=i.value,i.error&&u.push(this.createError(\"any.default\",{error:i.error},t,r))}if(u.length&&\"function\"==typeof this._flags.error){const e=this._flags.error.call(this,u);u=\"string\"==typeof e?[this.createOverrideError(\"override\",{reason:u},t,r,e)]:[].concat(e).map(e=>e instanceof Error?e:this.createOverrideError(e.type||\"override\",e.context,t,r,e.message,e.template))}return{value:this._flags.strip?void 0:s,finalValue:s,errors:u.length?u:null}};if(this._coerce){const n=this._coerce.call(this,e,t,r);if(n.errors)return e=n.value,u=u.concat(n.errors),f();e=n.value}this._flags.empty&&!this._flags.empty._validate(this._prepareEmptyValue(e),null,l.defaults).errors&&(e=void 0);const h=this._flags.presence||r.presence;if(\"optional\"===h){if(void 0===e){if(!(this._flags.hasOwnProperty(\"default\")&&void 0===this._flags.default)||\"object\"!==this._type)return f();e={}}}else{if(\"required\"===h&&void 0===e)return u.push(this.createError(\"any.required\",null,t,r)),f();if(\"forbidden\"===h)return void 0===e?f():(u.push(this.createError(\"any.unknown\",null,t,r)),f())}if(this._valids.has(e,t,r,this._flags.insensitive))return f();if(this._invalids.has(e,t,r,this._flags.insensitive)&&(u.push(this.createError(\"\"===e?\"any.empty\":\"any.invalid\",{value:e,invalids:this._invalids.values({stripUndefined:!0})},t,r)),r.abortEarly||void 0===e))return f();if(this._base){const n=this._base.call(this,e,t,r);if(n.errors)return e=n.value,u=u.concat(n.errors),f();if(n.value!==e){if(e=n.value,this._valids.has(e,t,r,this._flags.insensitive))return f();if(this._invalids.has(e,t,r,this._flags.insensitive)&&(u.push(this.createError(\"\"===e?\"any.empty\":\"any.invalid\",{value:e,invalids:this._invalids.values({stripUndefined:!0})},t,r)),r.abortEarly))return f()}}if(this._flags.allowOnly&&(u.push(this.createError(\"any.allowOnly\",{value:e,valids:this._valids.values({stripUndefined:!0})},t,r)),r.abortEarly))return f();for(let n=0;n<this._tests.length;++n){const s=this._tests[n].func.call(this,e,t,r);if(s instanceof o.Err){if(u.push(s),r.abortEarly)return f()}else e=s}return f()}_validateWithOptions(e,t,r){t&&this.checkOptions(t);const n=s.concat(l.defaults,t),i=this._validate(e,null,n),a=o.process(i.errors,e);return r?r(a,i.value):{error:a,value:i.value,then:(e,t)=>a?Promise.reject(a).catch(t):Promise.resolve(i.value).then(e),catch:e=>a?Promise.reject(a).catch(e):Promise.resolve(i.value)}}validate(e,t,r){return\"function\"==typeof t?this._validateWithOptions(e,null,t):this._validateWithOptions(e,t,r)}describe(){const e={type:this._type},t=Object.keys(this._flags);if(t.length)if([\"empty\",\"default\",\"lazy\",\"label\"].some(e=>this._flags.hasOwnProperty(e))){e.flags={};for(let r=0;r<t.length;++r){const n=t[r];\"empty\"===n?e.flags[n]=this._flags[n].describe():\"default\"===n?i.isRef(this._flags[n])?e.flags[n]=this._flags[n].toString():\"function\"==typeof this._flags[n]?e.flags[n]={description:this._flags[n].description,function:this._flags[n]}:e.flags[n]=this._flags[n]:\"lazy\"===n||\"label\"===n||(e.flags[n]=this._flags[n])}}else e.flags=this._flags;this._settings&&(e.options=n.clone(this._settings)),this._baseType&&(e.base=this._baseType.describe()),this._description&&(e.description=this._description),this._notes.length&&(e.notes=this._notes),this._tags.length&&(e.tags=this._tags),this._meta.length&&(e.meta=this._meta),this._examples.length&&(e.examples=this._examples),this._unit&&(e.unit=this._unit);const r=this._valids.values();r.length&&(e.valids=r.map(e=>i.isRef(e)?e.toString():e));const s=this._invalids.values();s.length&&(e.invalids=s.map(e=>i.isRef(e)?e.toString():e)),e.rules=[];for(let t=0;t<this._tests.length;++t){const r=this._tests[t],n={name:r.name};void 0!==r.arg&&(n.arg=i.isRef(r.arg)?r.arg.toString():r.arg);const s=r.options;if(s){if(s.hasRef){n.arg={};const e=Object.keys(r.arg);for(let t=0;t<e.length;++t){const s=e[t],o=r.arg[s];n.arg[s]=i.isRef(o)?o.toString():o}}\"string\"==typeof s.description?n.description=s.description:\"function\"==typeof s.description&&(n.description=s.description(n.arg))}e.rules.push(n)}e.rules.length||delete e.rules;const o=this._getLabel();return o&&(e.label=o),e}label(e){n.assert(e&&\"string\"==typeof e,\"Label name must be a non-empty string\");const t=this.clone();return t._flags.label=e,t}_getLabel(e){return this._flags.label||e}},l.Any.prototype.isImmutable=!0,l.Any.prototype.only=l.Any.prototype.equal=l.Any.prototype.valid,l.Any.prototype.disallow=l.Any.prototype.not=l.Any.prototype.invalid,l.Any.prototype.exist=l.Any.prototype.required,l._try=function(e,t){let r,n;try{n=e.apply(null,t)}catch(e){r=e}return{value:n,error:r}}},function(e,t,r){\"use strict\";const n=r(16);t.create=function(e,t){n.assert(\"string\"==typeof e,\"Invalid reference key:\",e);const r=n.clone(t),s=function(e,t){return n.reach(s.isContext?t.context:e,s.key,r)};return s.isContext=e[0]===(r&&r.contextPrefix||\"$\"),s.key=s.isContext?e.slice(1):e,s.path=s.key.split(r&&r.separator||\".\"),s.depth=s.path.length,s.root=s.path[0],s.isJoi=!0,s.toString=function(){return(s.isContext?\"context:\":\"ref:\")+s.key},s},t.isRef=function(e){return\"function\"==typeof e&&e.isJoi},t.push=function(e,r){t.isRef(r)&&!r.isContext&&e.push(r.root)}},function(e,t,r){\"use strict\";const n=r(16),s=r(18);t.schema=function(e,t){return void 0!==t&&null!==t&&\"object\"==typeof t?t.isJoi?t:Array.isArray(t)?e.alternatives().try(t):t instanceof RegExp?e.string().regex(t):t instanceof Date?e.date().valid(t):e.object().keys(t):\"string\"==typeof t?e.string().valid(t):\"number\"==typeof t?e.number().valid(t):\"boolean\"==typeof t?e.boolean().valid(t):s.isRef(t)?e.valid(t):(n.assert(null===t,\"Invalid schema content:\",t),e.valid(null))},t.ref=function(e){return s.isRef(e)?e:s.create(e)}},function(e,t,r){\"use strict\";const n=r(16),s=r(33),i={annotations:Symbol(\"joi-annotations\"),stringify:function(e,r){const n=typeof e;if(null===e)return\"null\";if(\"string\"===n)return e;if(e instanceof t.Err||\"function\"===n||\"symbol\"===n)return e.toString();if(\"object\"===n){if(Array.isArray(e)){let t=\"\";for(let n=0;n<e.length;++n)t=t+(t.length?\", \":\"\")+i.stringify(e[n],r);return r?\"[\"+t+\"]\":t}return e.toString()}return JSON.stringify(e)}};t.Err=class{constructor(e,t,r,n,i,o,a){this.isJoi=!0,this.type=e,this.context=t||{},this.context.key=r.path[r.path.length-1],this.context.label=r.key,this.path=r.path,this.options=n,this.flags=i,this.message=o,this.template=a;const c=this.options.language;this.flags.label?this.context.label=this.flags.label:!c||\"\"!==this.context.label&&null!==this.context.label||(this.context.label=c.root||s.errors.root)}toString(){if(this.message)return this.message;let e;this.template&&(e=this.template);const t=this.options.language;if(void 0===(e=e||n.reach(t,this.type)||n.reach(s.errors,this.type)))return`Error code \"${this.type}\" is not defined, your custom type is missing the correct language definition`;let r=n.reach(t,\"messages.wrapArrays\");if(\"boolean\"!=typeof r&&(r=s.errors.messages.wrapArrays),null===e){const e=i.stringify(this.context.reason,r);return r?e.slice(1,-1):e}const o=/\\{\\{\\!?label\\}\\}/.test(e),a=e.length>2&&\"!\"===e[0]&&\"!\"===e[1];if(a&&(e=e.slice(2)),!o&&!a){const r=n.reach(t,\"key\");e=\"string\"==typeof r?r+e:n.reach(s.errors,\"key\")+e}return e.replace(/\\{\\{(\\!?)([^}]+)\\}\\}/g,(e,t,s)=>{const o=n.reach(this.context,s),a=i.stringify(o,r);return t&&this.options.escapeHtml?n.escapeHtml(a):a})}},t.create=function(e,r,n,s,i,o,a){return new t.Err(e,r,n,s,i,o,a)},t.process=function(e,t){if(!e||!e.length)return null;let r=\"\";const n=[],s=function(e,t){for(let i=0;i<e.length;++i){const o=e[i];if(o instanceof Error)return o;if(o.flags.error&&\"function\"!=typeof o.flags.error)return o.flags.error;let a;if(void 0===t&&(a=o.toString(),r=r+(r?\". \":\"\")+a),o.context.reason&&o.context.reason.length){const e=s(o.context.reason,o.path);if(e)return e}else n.push({message:a||o.toString(),path:o.path,type:o.type,context:o.context})}},o=s(e);if(o)return o;const a=new Error(r);return a.isJoi=!0,a.name=\"ValidationError\",a.details=n,a._object=t,a.annotate=i.annotate,a},i.safeStringify=function(e,t){return JSON.stringify(e,i.serializer(),t)},i.serializer=function(){const e=[],t=[];return function(r,n){if(t.length>0){const s=t.indexOf(this);~s?(t.length=s+1,e.length=s+1,e[s]=r):(t.push(this),e.push(r)),~t.indexOf(n)&&(n=((r,n)=>t[0]===n?\"[Circular ~]\":\"[Circular ~.\"+e.slice(0,t.indexOf(n)).join(\".\")+\"]\").call(this,r,n))}else t.push(n);if(n){const e=n[i.annotations];if(e){if(Array.isArray(n)){const t=[];for(let r=0;r<n.length;++r)e.errors[r]&&t.push(`_$idx$_${e.errors[r].sort().join(\", \")}_$end$_`),t.push(n[r]);n=t}else{const t=Object.keys(e.errors);for(let r=0;r<t.length;++r){const s=t[r];n[`${s}_$key$_${e.errors[s].sort().join(\", \")}_$end$_`]=n[s],n[s]=void 0}const r=Object.keys(e.missing);for(let t=0;t<r.length;++t){const s=r[t];n[`_$miss$_${s}|${e.missing[s]}_$end$_`]=\"__missing__\"}}return n}}return n===1/0||n===-1/0||Number.isNaN(n)||\"function\"==typeof n||\"symbol\"==typeof n?\"[\"+n.toString()+\"]\":n}},i.annotate=function(e){const t=e?\"\":\"\u001b[31m\",r=e?\"\":\"\u001b[41m\",s=e?\"\":\"\u001b[0m\";if(\"object\"!=typeof this._object)return this.details[0].message;const o=n.clone(this._object||{});for(let e=this.details.length-1;e>=0;--e){const t=e+1,r=this.details[e],n=r.path;let s=o;for(let e=0;;++e){const o=n[e];if(s.isImmutable&&(s=s.clone()),!(e+1<n.length&&s[o]&&\"string\"!=typeof s[o])){const e=s[i.annotations]=s[i.annotations]||{errors:{},missing:{}},n=s[o],a=o||r.context.label;void 0!==n?(e.errors[a]=e.errors[a]||[],e.errors[a].push(t)):e.missing[a]=t;break}s=s[o]}}const a=/_\\$key\\$_([, \\d]+)_\\$end\\$_\\\"/g,c=/\\\"_\\$miss\\$_([^\\|]+)\\|(\\d+)_\\$end\\$_\\\"\\: \\\"__missing__\\\"/g,l=/\\s*\\\"_\\$idx\\$_([, \\d]+)_\\$end\\$_\\\",?\\n(.*)/g,u=/\"\\[(NaN|Symbol.*|-?Infinity|function.*|\\(.*)\\]\"/g;let f=i.safeStringify(o,2).replace(a,(e,r)=>`\" ${t}[${r}]${s}`).replace(c,(e,n,i)=>`${r}\"${n}\"${s}${t} [${i}]: -- missing --${s}`).replace(l,(e,r,n)=>`\\n${n} ${t}[${r}]${s}`).replace(u,(e,t)=>t);f=`${f}\\n${t}`;for(let e=0;e<this.details.length;++e){f=`${f}\\n[${e+1}] ${this.details[e].message}`}return f+=s}},function(e,t,r){\"use strict\";const n=r(16),s=r(17),i=r(19),o=r(20),a=r(35),c=r(18),l=r(23),u={alternatives:r(25),array:r(36),boolean:r(37),binary:r(38),date:r(26),func:r(39),number:r(41),object:r(27),string:r(42),callWithDefaults:function(e,t){return n.assert(this,\"Must be invoked on a Joi instance.\"),this._defaults&&(e=this._defaults(e)),e._currentJoi=this,e._init(...t)},root:function(){const e=new s,t=e.clone();return s.prototype._currentJoi=t,t._currentJoi=t,t.any=function(...t){return n.assert(0===t.length,\"Joi.any() does not allow arguments.\"),u.callWithDefaults.call(this,e,t)},t.alternatives=t.alt=function(...e){return u.callWithDefaults.call(this,u.alternatives,e)},t.array=function(...e){return n.assert(0===e.length,\"Joi.array() does not allow arguments.\"),u.callWithDefaults.call(this,u.array,e)},t.boolean=t.bool=function(...e){return n.assert(0===e.length,\"Joi.boolean() does not allow arguments.\"),u.callWithDefaults.call(this,u.boolean,e)},t.binary=function(...e){return n.assert(0===e.length,\"Joi.binary() does not allow arguments.\"),u.callWithDefaults.call(this,u.binary,e)},t.date=function(...e){return n.assert(0===e.length,\"Joi.date() does not allow arguments.\"),u.callWithDefaults.call(this,u.date,e)},t.func=function(...e){return n.assert(0===e.length,\"Joi.func() does not allow arguments.\"),u.callWithDefaults.call(this,u.func,e)},t.number=function(...e){return n.assert(0===e.length,\"Joi.number() does not allow arguments.\"),u.callWithDefaults.call(this,u.number,e)},t.object=function(...e){return u.callWithDefaults.call(this,u.object,e)},t.string=function(...e){return n.assert(0===e.length,\"Joi.string() does not allow arguments.\"),u.callWithDefaults.call(this,u.string,e)},t.ref=function(...e){return c.create(...e)},t.isRef=function(e){return c.isRef(e)},t.validate=function(r,...n){const s=n[n.length-1],i=\"function\"==typeof s?s:null,o=n.length-(i?1:0);if(0===o)return e.validate(r,i);const a=2===o?n[1]:{};return t.compile(n[0])._validateWithOptions(r,a,i)},t.describe=function(...r){return(r.length?t.compile(r[0]):e).describe()},t.compile=function(e){try{return i.schema(this,e)}catch(e){throw e.hasOwnProperty(\"path\")&&(e.message=e.message+\"(\"+e.path+\")\"),e}},t.assert=function(e,r,n){t.attempt(e,r,n)},t.attempt=function(e,r,n){const s=t.validate(e,r),i=s.error;if(i){if(!n)throw\"function\"==typeof i.annotate&&(i.message=i.annotate()),i;if(!(n instanceof Error))throw\"function\"==typeof i.annotate&&(i.message=`${n} ${i.annotate()}`),i;throw n}return s.value},t.reach=function(e,t){n.assert(e&&e instanceof s,\"you must provide a joi schema\"),n.assert(Array.isArray(t)||\"string\"==typeof t,\"path must be a string or an array of strings\");const r=(e,t)=>{if(!t.length)return e;const n=e._inner.children;if(!n)return;const s=t.shift();for(let e=0;e<n.length;++e){const i=n[e];if(i.key===s)return r(i.schema,t)}},i=\"string\"==typeof t?t?t.split(\".\"):[]:t.slice();return r(e,i)},t.lazy=function(e){return a.set(e)},t.defaults=function(e){n.assert(\"function\"==typeof e,\"Defaults must be a function\");let t=Object.create(this.any());return t=e(t),n.assert(t&&t instanceof this.constructor,\"defaults() must return a schema\"),Object.assign(t,this,t.clone()),t._defaults=(t=>(this._defaults&&(t=this._defaults(t),n.assert(t instanceof this.constructor,\"defaults() must return a schema\")),t=e(t),n.assert(t instanceof this.constructor,\"defaults() must return a schema\"),t)),t},t.extend=function(...e){const r=n.flatten(e);n.assert(r.length>0,\"You need to provide at least one extension\"),this.assert(r,t.extensionsSchema);const a=Object.create(this.any());Object.assign(a,this);for(let e=0;e<r.length;++e){let f=r[e];\"function\"==typeof f&&(f=f(a)),this.assert(f,t.extensionSchema);const h=(f.base||this.any()).clone(),p=h.constructor,d=class extends p{constructor(){super(),f.base&&Object.assign(this,h),this._type=f.name,f.language&&(this._settings=l.concat(this._settings,{language:{[f.name]:f.language}}))}};if(f.coerce&&(d.prototype._coerce=function(e,t,r){if(p.prototype._coerce){const n=p.prototype._coerce.call(this,e,t,r);if(n.errors)return n;e=n.value}const n=f.coerce.call(this,e,t,r);return n instanceof o.Err?{value:e,errors:n}:{value:n}}),f.pre&&(d.prototype._base=function(e,t,r){if(p.prototype._base){const n=p.prototype._base.call(this,e,t,r);if(n.errors)return n;e=n.value}const n=f.pre.call(this,e,t,r);return n instanceof o.Err?{value:e,errors:n}:{value:n}}),f.rules)for(let e=0;e<f.rules.length;++e){const t=f.rules[e],r=t.params?t.params instanceof s?t.params._inner.children.map(e=>e.key):Object.keys(t.params):[],o=t.params?i.schema(this,t.params):null;d.prototype[t.name]=function(...e){if(e.length>r.length)throw new Error(\"Unexpected number of arguments\");let i,l=!1,u={};for(let t=0;t<r.length;++t)u[r[t]]=e[t],!l&&c.isRef(e[t])&&(l=!0);if(o&&(u=a.attempt(u,o)),t.validate){const e=function(e,r,n){return t.validate.call(this,u,e,r,n)};i=this._test(t.name,u,e,{description:t.description,hasRef:l})}else i=this.clone();if(t.setup){const e=t.setup.call(i,u);void 0!==e&&(n.assert(e instanceof s,`Setup of extension Joi.${this._type}().${t.name}() must return undefined or a Joi object`),i=e)}return i}}f.describe&&(d.prototype.describe=function(){const e=p.prototype.describe.call(this);return f.describe.call(this,e)});const g=new d;a[f.name]=function(...e){return u.callWithDefaults.call(this,g,e)}}return a},t.extensionSchema=u.object.keys({base:u.object.type(s,\"Joi object\"),name:u.string.required(),coerce:u.func.arity(3),pre:u.func.arity(3),language:u.object,describe:u.func.arity(1),rules:u.array.items(u.object.keys({name:u.string.required(),setup:u.func.arity(1),validate:u.func.arity(4),params:[u.object.pattern(/.*/,u.object.type(s,\"Joi object\")),u.object.type(u.object.constructor,\"Joi object\")],description:[u.string,u.func.arity(1)]}).or(\"setup\",\"validate\"))}).strict(),t.extensionsSchema=u.array.items([u.object,u.func.arity(1)]).strict(),t.version=r(48).version,t}};e.exports=u.root()},function(e,t){e.exports=require(\"util\")},function(e,t,r){\"use strict\";const n=r(16);t.concat=function(e,t){if(!t)return e;const r=Object.assign({},e),s=Object.keys(t);for(let e=0;e<s.length;++e){const i=s[e];\"language\"===i&&r.hasOwnProperty(i)?r[i]=n.applyToDefaults(r[i],t[i]):r[i]=t[i]}return r}},function(e,t,r){\"use strict\";const n=r(18),s={extendedCheckForValue:function(e,t){const r=typeof e;if(\"object\"===r){if(e instanceof Date)return t=>t instanceof Date&&e.getTime()===t.getTime();if(Buffer.isBuffer(e))return t=>Buffer.isBuffer(t)&&e.length===t.length&&e.toString(\"binary\")===t.toString(\"binary\")}else if(t&&\"string\"===r){const t=e.toLowerCase();return e=>\"string\"==typeof e&&t===e.toLowerCase()}return null}};e.exports=class e{constructor(e){this._set=new Set(e),this._hasRef=!1}add(e,t){const r=n.isRef(e);return!r&&this.has(e,null,null,!1)?this:(void 0!==t&&n.push(t,e),this._set.add(e),this._hasRef|=r,this)}merge(e,t){for(const t of e._set)this.add(t);for(const e of t._set)this.remove(e);return this}remove(e){return this._set.delete(e),this}has(e,t,r,i){if(!this._set.size)return!1;const o=this._set.has(e);if(o)return o;const a=s.extendedCheckForValue(e,i);if(!a){if(t&&this._hasRef)for(let s of this._set)if(n.isRef(s)&&(e===(s=s(t.reference||t.parent,r))||Array.isArray(s)&&s.includes(e)))return!0;return!1}return this._has(e,t,r,a)}_has(e,t,r,s){const i=!(!t||!this._hasRef),o=function(t){return e===t||s(t)};for(let e of this._set)if(i&&n.isRef(e)&&(e=e(t.reference||t.parent,r),Array.isArray(e))){if(e.find(o))return!0}else if(o(e))return!0;return!1}values(e){if(e&&e.stripUndefined){const e=[];for(const t of this._set)void 0!==t&&e.push(t);return e}return Array.from(this._set)}slice(){const t=new e(this._set);return t._hasRef=this._hasRef,t}concat(t){const r=new e([...this._set,...t._set]);return r._hasRef=!!(this._hasRef|t._hasRef),r}}},function(e,t,r){\"use strict\";const n=r(16),s=r(17),i=r(19),o=r(18),a={Alternatives:class extends s{constructor(){super(),this._type=\"alternatives\",this._invalids.remove(null),this._inner.matches=[]}_init(...e){return e.length?this.try(...e):this}_base(e,t,r){let n=[];const s=this._inner.matches.length,i=this._baseType;for(let o=0;o<s;++o){const a=this._inner.matches[o];if(!a.schema){const n=a.peek||a.is,c=a.is?a.ref(t.reference||t.parent,r):e;if(n._validate(c,null,r,t.parent).errors){if(a.otherwise)return a.otherwise._validate(e,t,r)}else if(a.then)return a.then._validate(e,t,r);if(o===s-1&&i)return i._validate(e,t,r);continue}const c=a.schema._validate(e,t,r);if(!c.errors)return c;n=n.concat(c.errors)}return n.length?{errors:this.createError(\"alternatives.child\",{reason:n},t,r)}:{errors:this.createError(\"alternatives.base\",null,t,r)}}try(...e){e=n.flatten(e),n.assert(e.length,\"Cannot add other alternatives without at least one schema\");const t=this.clone();for(let r=0;r<e.length;++r){const n=i.schema(this._currentJoi,e[r]);n._refs.length&&(t._refs=t._refs.concat(n._refs)),t._inner.matches.push({schema:n})}return t}when(e,t){let r=!1;n.assert(o.isRef(e)||\"string\"==typeof e||(r=e instanceof s),\"Invalid condition:\",e),n.assert(t,\"Missing options\"),n.assert(\"object\"==typeof t,\"Invalid options\"),r?n.assert(!t.hasOwnProperty(\"is\"),'\"is\" can not be used with a schema condition'):n.assert(t.hasOwnProperty(\"is\"),'Missing \"is\" directive'),n.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of \"then\" or \"otherwise\"');const a=this.clone();let c;r||(c=i.schema(this._currentJoi,t.is),null!==t.is&&(o.isRef(t.is)||t.is instanceof s)||(c=c.required()));const l={ref:r?null:i.ref(e),peek:r?e:null,is:c,then:void 0!==t.then?i.schema(this._currentJoi,t.then):void 0,otherwise:void 0!==t.otherwise?i.schema(this._currentJoi,t.otherwise):void 0};return a._baseType&&(l.then=l.then&&a._baseType.concat(l.then),l.otherwise=l.otherwise&&a._baseType.concat(l.otherwise)),r||(o.push(a._refs,l.ref),a._refs=a._refs.concat(l.is._refs)),l.then&&l.then._refs&&(a._refs=a._refs.concat(l.then._refs)),l.otherwise&&l.otherwise._refs&&(a._refs=a._refs.concat(l.otherwise._refs)),a._inner.matches.push(l),a}describe(){const e=s.prototype.describe.call(this),t=[];for(let e=0;e<this._inner.matches.length;++e){const r=this._inner.matches[e];if(r.schema)t.push(r.schema.describe());else{const e=r.is?{ref:r.ref.toString(),is:r.is.describe()}:{peek:r.peek.describe()};r.then&&(e.then=r.then.describe()),r.otherwise&&(e.otherwise=r.otherwise.describe()),t.push(e)}}return e.alternatives=t,e}}};e.exports=new a.Alternatives},function(e,t,r){\"use strict\";const n=r(17),s=r(18),i=r(16),o={isoDate:/^(?:[-+]\\d{2})?(?:\\d{4}(?!\\d{2}\\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\\1(?:[12]\\d|0[1-9]|3[01]))?|W(?:[0-4]\\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\\d|[12]\\d{2}|3(?:[0-5]\\d|6[1-6])))(?![T]$|[T][\\d]+Z$)(?:[T\\s](?:(?:(?:[01]\\d|2[0-3])(?:(:?)[0-5]\\d)?|24\\:?00)(?:[.,]\\d+(?!:))?)(?:\\2[0-5]\\d(?:[.,]\\d+)?)?(?:[Z]|(?:[+-])(?:[01]\\d|2[0-3])(?::?[0-5]\\d)?)?)?)?$/};o.invalidDate=new Date(\"\"),o.isIsoDate=(()=>{const e=o.isoDate.toString();return t=>t&&t.toString()===e})(),o.Date=class extends n{constructor(){super(),this._type=\"date\"}_base(e,t,r){const n={value:r.convert&&o.Date.toDate(e,this._flags.format,this._flags.timestamp,this._flags.multiplier)||e};if(n.value instanceof Date&&!isNaN(n.value.getTime()))n.errors=null;else if(r.convert){let e;e=o.isIsoDate(this._flags.format)?\"isoDate\":this._flags.timestamp?`timestamp.${this._flags.timestamp}`:\"base\",n.errors=this.createError(`date.${e}`,null,t,r)}else n.errors=this.createError(\"date.strict\",null,t,r);return n}static toDate(e,t,r,n){if(e instanceof Date)return e;if(\"string\"==typeof e||\"number\"==typeof e&&!isNaN(e)&&isFinite(e)){let s;if(\"string\"==typeof e&&/^[+-]?\\d+(\\.\\d+)?$/.test(e)&&(e=parseFloat(e)),s=t&&o.isIsoDate(t)?t.test(e)?new Date(e):o.invalidDate:r&&n?/^\\s*$/.test(e)?o.invalidDate:new Date(e*n):new Date(e),!isNaN(s.getTime()))return s}return null}iso(){if(this._flags.format===o.isoDate)return this;const e=this.clone();return e._flags.format=o.isoDate,e}timestamp(e=\"javascript\"){const t=[\"javascript\",\"unix\"];if(i.assert(t.includes(e),'\"type\" must be one of \"'+t.join('\", \"')+'\"'),this._flags.timestamp===e)return this;const r=this.clone();return r._flags.timestamp=e,r._flags.multiplier=\"unix\"===e?1e3:1,r}_isIsoDate(e){return o.isoDate.test(e)}},o.compare=function(e,t){return function(r){const n=\"now\"===r,a=s.isRef(r);return n||a||(r=o.Date.toDate(r)),i.assert(r,\"Invalid date format\"),this._test(e,r,function(s,i,c){let l;if(n)l=Date.now();else if(a){if(!(l=o.Date.toDate(r(i.reference||i.parent,c))))return this.createError(\"date.ref\",{ref:r.key},i,c);l=l.getTime()}else l=r.getTime();return t(s.getTime(),l)?s:this.createError(\"date.\"+e,{limit:new Date(l)},i,c)})}},o.Date.prototype.min=o.compare(\"min\",(e,t)=>e>=t),o.Date.prototype.max=o.compare(\"max\",(e,t)=>e<=t),o.Date.prototype.greater=o.compare(\"greater\",(e,t)=>e>t),o.Date.prototype.less=o.compare(\"less\",(e,t)=>e<t),e.exports=new o.Date},function(e,t,r){\"use strict\";const n=r(16),s=r(40),i=r(17),o=r(20),a=r(19),c={Object:class extends i{constructor(){super(),this._type=\"object\",this._inner.children=null,this._inner.renames=[],this._inner.dependencies=[],this._inner.patterns=[]}_init(...e){return e.length?this.keys(...e):this}_base(e,t,r){let s=e;const i=[],a=()=>({value:s,errors:i.length?i:null});\"string\"==typeof e&&r.convert&&(e=c.safeParse(e));const l=this._flags.func?\"function\":\"object\";if(!e||typeof e!==l||Array.isArray(e))return i.push(this.createError(l+\".base\",null,t,r)),a();if(!(this._inner.renames.length||this._inner.dependencies.length||this._inner.children||this._inner.patterns.length))return s=e,a();if(s===e){\"object\"===l?s=Object.create(Object.getPrototypeOf(e)):(s=function(...t){return e.apply(this,t)}).prototype=n.clone(e.prototype);const t=Object.keys(e);for(let r=0;r<t.length;++r)s[t[r]]=e[t[r]]}else s=e;const u={};for(let e=0;e<this._inner.renames.length;++e){const n=this._inner.renames[e];if(n.isRegExp){const e=Object.keys(s),o=[];for(let t=0;t<e.length;++t)n.from.test(e[t])&&o.push(e[t]);const c=o.every(e=>void 0===s[e]);if(n.options.ignoreUndefined&&c)continue;if(!n.options.multiple&&u[n.to]&&(i.push(this.createError(\"object.rename.regex.multiple\",{from:o,to:n.to},t,r)),r.abortEarly))return a();if(Object.prototype.hasOwnProperty.call(s,n.to)&&!n.options.override&&!u[n.to]&&(i.push(this.createError(\"object.rename.regex.override\",{from:o,to:n.to},t,r)),r.abortEarly))return a();if(c?delete s[n.to]:s[n.to]=s[o[o.length-1]],u[n.to]=!0,!n.options.alias)for(let e=0;e<o.length;++e)delete s[o[e]]}else{if(n.options.ignoreUndefined&&void 0===s[n.from])continue;if(!n.options.multiple&&u[n.to]&&(i.push(this.createError(\"object.rename.multiple\",{from:n.from,to:n.to},t,r)),r.abortEarly))return a();if(Object.prototype.hasOwnProperty.call(s,n.to)&&!n.options.override&&!u[n.to]&&(i.push(this.createError(\"object.rename.override\",{from:n.from,to:n.to},t,r)),r.abortEarly))return a();void 0===s[n.from]?delete s[n.to]:s[n.to]=s[n.from],u[n.to]=!0,n.options.alias||delete s[n.from]}}if(!this._inner.children&&!this._inner.patterns.length&&!this._inner.dependencies.length)return a();const f=new Set(Object.keys(s));if(this._inner.children){const e=[];for(let n=0;n<this._inner.children.length;++n){const o=this._inner.children[n],c=o.key,l=s[c];f.delete(c);const u={key:c,path:t.path.concat(c),parent:s,reference:t.reference},h=o.schema._validate(l,u,r);if(h.errors){if(i.push(this.createError(\"object.child\",{key:c,child:o.schema._getLabel(c),reason:h.errors},u,r)),r.abortEarly)return a()}else o.schema._flags.strip||void 0===h.value&&h.value!==l?(e.push(c),s[c]=h.finalValue):void 0!==h.value&&(s[c]=h.value)}for(let t=0;t<e.length;++t)delete s[e[t]]}if(f.size&&this._inner.patterns.length)for(const e of f){const n={key:e,path:t.path.concat(e),parent:s,reference:t.reference},o=s[e];for(let t=0;t<this._inner.patterns.length;++t){const c=this._inner.patterns[t];if(c.regex?c.regex.test(e):!c.schema.validate(e).error){f.delete(e);const t=c.rule._validate(o,n,r);if(t.errors&&(i.push(this.createError(\"object.child\",{key:e,child:c.rule._getLabel(e),reason:t.errors},n,r)),r.abortEarly))return a();s[e]=t.value}}}if(f.size&&(this._inner.children||this._inner.patterns.length)){if(r.stripUnknown&&!0!==this._flags.allowUnknown||r.skipFunctions){const e=!!r.stripUnknown&&(!0===r.stripUnknown||!!r.stripUnknown.objects);for(const t of f)e?(delete s[t],f.delete(t)):\"function\"==typeof s[t]&&f.delete(t)}if(void 0!==this._flags.allowUnknown?!this._flags.allowUnknown:!r.allowUnknown)for(const e of f)i.push(this.createError(\"object.allowUnknown\",{child:e},{key:e,path:t.path.concat(e)},r,{}))}for(let e=0;e<this._inner.dependencies.length;++e){const n=this._inner.dependencies[e],l=c[n.type].call(this,null!==n.key&&s[n.key],n.peers,s,{key:n.key,path:null===n.key?t.path:t.path.concat(n.key)},r);if(l instanceof o.Err&&(i.push(l),r.abortEarly))return a()}return a()}keys(e){n.assert(null===e||void 0===e||\"object\"==typeof e,\"Object schema must be a valid object\"),n.assert(!(e&&e instanceof i),\"Object schema cannot be a joi schema\");const t=this.clone();if(!e)return t._inner.children=null,t;const r=Object.keys(e);if(!r.length)return t._inner.children=[],t;const o=new s;if(t._inner.children)for(let e=0;e<t._inner.children.length;++e){const n=t._inner.children[e];r.includes(n.key)||o.add(n,{after:n._refs,group:n.key})}for(let t=0;t<r.length;++t){const n=r[t],s=e[n];try{const e=a.schema(this._currentJoi,s);o.add({key:n,schema:e},{after:e._refs,group:n})}catch(e){throw e.hasOwnProperty(\"path\")?e.path=n+\".\"+e.path:e.path=n,e}}return t._inner.children=o.nodes,t}append(e){return null===e||void 0===e||0===Object.keys(e).length?this:this.keys(e)}unknown(e){const t=!1!==e;if(this._flags.allowUnknown===t)return this;const r=this.clone();return r._flags.allowUnknown=t,r}length(e){return n.assert(Number.isSafeInteger(e)&&e>=0,\"limit must be a positive integer\"),this._test(\"length\",e,function(t,r,n){return Object.keys(t).length===e?t:this.createError(\"object.length\",{limit:e},r,n)})}min(e){return n.assert(Number.isSafeInteger(e)&&e>=0,\"limit must be a positive integer\"),this._test(\"min\",e,function(t,r,n){return Object.keys(t).length>=e?t:this.createError(\"object.min\",{limit:e},r,n)})}max(e){return n.assert(Number.isSafeInteger(e)&&e>=0,\"limit must be a positive integer\"),this._test(\"max\",e,function(t,r,n){return Object.keys(t).length<=e?t:this.createError(\"object.max\",{limit:e},r,n)})}pattern(e,t){const r=e instanceof RegExp;n.assert(r||e instanceof i,\"pattern must be a regex or schema\"),n.assert(void 0!==t,\"Invalid rule\"),r&&(e=new RegExp(e.source,e.ignoreCase?\"i\":void 0));try{t=a.schema(this._currentJoi,t)}catch(e){throw e.hasOwnProperty(\"path\")&&(e.message=e.message+\"(\"+e.path+\")\"),e}const s=this.clone();return r?s._inner.patterns.push({regex:e,rule:t}):s._inner.patterns.push({schema:e,rule:t}),s}schema(){return this._test(\"schema\",null,function(e,t,r){return e instanceof i?e:this.createError(\"object.schema\",null,t,r)})}with(e,t){return n.assert(2===arguments.length,\"Invalid number of arguments, expected 2.\"),this._dependency(\"with\",e,t)}without(e,t){return n.assert(2===arguments.length,\"Invalid number of arguments, expected 2.\"),this._dependency(\"without\",e,t)}xor(...e){return e=n.flatten(e),this._dependency(\"xor\",null,e)}or(...e){return e=n.flatten(e),this._dependency(\"or\",null,e)}and(...e){return e=n.flatten(e),this._dependency(\"and\",null,e)}nand(...e){return e=n.flatten(e),this._dependency(\"nand\",null,e)}requiredKeys(...e){return e=n.flatten(e),this.applyFunctionToChildren(e,\"required\")}optionalKeys(...e){return e=n.flatten(e),this.applyFunctionToChildren(e,\"optional\")}forbiddenKeys(...e){return e=n.flatten(e),this.applyFunctionToChildren(e,\"forbidden\")}rename(e,t,r){n.assert(\"string\"==typeof e||e instanceof RegExp,\"Rename missing the from argument\"),n.assert(\"string\"==typeof t,\"Rename missing the to argument\"),n.assert(t!==e,\"Cannot rename key to same name:\",e);for(let t=0;t<this._inner.renames.length;++t)n.assert(this._inner.renames[t].from!==e,\"Cannot rename the same key multiple times\");const s=this.clone();return s._inner.renames.push({from:e,to:t,options:n.applyToDefaults(c.renameDefaults,r||{}),isRegExp:e instanceof RegExp}),s}applyFunctionToChildren(e,t,r,s){e=[].concat(e),n.assert(e.length>0,\"expected at least one children\");const i=c.groupChildren(e);let o;if(\"\"in i?(o=this[t].apply(this,r),delete i[\"\"]):o=this.clone(),o._inner.children){s=s?s+\".\":\"\";for(let e=0;e<o._inner.children.length;++e){const n=o._inner.children[e],a=i[n.key];a&&(o._inner.children[e]={key:n.key,_refs:n._refs,schema:n.schema.applyFunctionToChildren(a,t,r,s+n.key)},delete i[n.key])}}const a=Object.keys(i);return n.assert(0===a.length,\"unknown key(s)\",a.join(\", \")),o}_dependency(e,t,r){r=[].concat(r);for(let t=0;t<r.length;++t)n.assert(\"string\"==typeof r[t],e,\"peers must be a string or array of strings\");const s=this.clone();return s._inner.dependencies.push({type:e,key:t,peers:r}),s}describe(e){const t=i.prototype.describe.call(this);if(t.rules)for(let e=0;e<t.rules.length;++e){const r=t.rules[e];r.arg&&\"object\"==typeof r.arg&&r.arg.schema&&r.arg.ref&&(r.arg={schema:r.arg.schema.describe(),ref:r.arg.ref.toString()})}if(this._inner.children&&!e){t.children={};for(let e=0;e<this._inner.children.length;++e){const r=this._inner.children[e];t.children[r.key]=r.schema.describe()}}if(this._inner.dependencies.length&&(t.dependencies=n.clone(this._inner.dependencies)),this._inner.patterns.length){t.patterns=[];for(let e=0;e<this._inner.patterns.length;++e){const r=this._inner.patterns[e];r.regex?t.patterns.push({regex:r.regex.toString(),rule:r.rule.describe()}):t.patterns.push({schema:r.schema.describe(),rule:r.rule.describe()})}}return this._inner.renames.length>0&&(t.renames=n.clone(this._inner.renames)),t}assert(e,t,r){e=a.ref(e),n.assert(e.isContext||e.depth>1,\"Cannot use assertions for root level references - use direct key rules instead\"),r=r||\"pass the assertion test\";try{t=a.schema(this._currentJoi,t)}catch(e){throw e.hasOwnProperty(\"path\")&&(e.message=e.message+\"(\"+e.path+\")\"),e}const s=e.path[e.path.length-1],i=e.path.join(\".\");return this._test(\"assert\",{schema:t,ref:e},function(o,a,c){if(!t._validate(e(o),null,c,o).errors)return o;const l=n.merge({},a);return l.key=s,l.path=e.path,this.createError(\"object.assert\",{ref:i,message:r},l,c)})}type(e,t=e.name){n.assert(\"function\"==typeof e,\"type must be a constructor function\");const r={name:t,ctor:e};return this._test(\"type\",r,function(t,n,s){return t instanceof e?t:this.createError(\"object.type\",{type:r.name},n,s)})}},safeParse:function(e){try{return JSON.parse(e)}catch(e){}return e},renameDefaults:{alias:!1,multiple:!1,override:!1},groupChildren:function(e){e.sort();const t={};for(let r=0;r<e.length;++r){const s=e[r];n.assert(\"string\"==typeof s,\"children must be strings\");const i=s.split(\".\")[0];(t[i]=t[i]||[]).push(s.substring(i.length+1))}return t},keysToLabels:function(e,t){const r=e._inner.children;if(!r)return t;const n=function(e){const t=r.find(t=>t.key===e);return t?t.schema._getLabel(e):e};return Array.isArray(t)?t.map(n):n(t)},with:function(e,t,r,n,s){if(void 0===e)return e;for(let e=0;e<t.length;++e){const i=t[e];if(!Object.prototype.hasOwnProperty.call(r,i)||void 0===r[i])return this.createError(\"object.with\",{main:n.key,mainWithLabel:c.keysToLabels(this,n.key),peer:i,peerWithLabel:c.keysToLabels(this,i)},n,s)}return e},without:function(e,t,r,n,s){if(void 0===e)return e;for(let e=0;e<t.length;++e){const i=t[e];if(Object.prototype.hasOwnProperty.call(r,i)&&void 0!==r[i])return this.createError(\"object.without\",{main:n.key,mainWithLabel:c.keysToLabels(this,n.key),peer:i,peerWithLabel:c.keysToLabels(this,i)},n,s)}return e},xor:function(e,t,r,n,s){const i=[];for(let e=0;e<t.length;++e){const n=t[e];Object.prototype.hasOwnProperty.call(r,n)&&void 0!==r[n]&&i.push(n)}if(1===i.length)return e;const o={peers:t,peersWithLabels:c.keysToLabels(this,t)};return 0===i.length?this.createError(\"object.missing\",o,n,s):this.createError(\"object.xor\",o,n,s)},or:function(e,t,r,n,s){for(let n=0;n<t.length;++n){const s=t[n];if(Object.prototype.hasOwnProperty.call(r,s)&&void 0!==r[s])return e}return this.createError(\"object.missing\",{peers:t,peersWithLabels:c.keysToLabels(this,t)},n,s)},and:function(e,t,r,n,s){const i=[],o=[],a=t.length;for(let e=0;e<a;++e){const n=t[e];Object.prototype.hasOwnProperty.call(r,n)&&void 0!==r[n]?o.push(n):i.push(n)}if(!(i.length===a||o.length===a))return this.createError(\"object.and\",{present:o,presentWithLabels:c.keysToLabels(this,o),missing:i,missingWithLabels:c.keysToLabels(this,i)},n,s)},nand:function(e,t,r,s,i){const o=[];for(let e=0;e<t.length;++e){const n=t[e];Object.prototype.hasOwnProperty.call(r,n)&&void 0!==r[n]&&o.push(n)}const a=n.clone(t),l=a.splice(0,1)[0];return o.length===t.length?this.createError(\"object.nand\",{main:l,mainWithLabel:c.keysToLabels(this,l),peers:a,peersWithLabels:c.keysToLabels(this,a)},s,i):null}};e.exports=new c.Object},function(e,t,r){\"use strict\";const n={rfc3986:{},generate:function(){const e=\"|\";n.rfc3986.ipv4Cidr=\"[0-9]|[1-2][0-9]|3[0-2]\",n.rfc3986.ipv6Cidr=\"(?:0?0?[0-9]|0?[1-9][0-9]|1[01][0-9]|12[0-8])\";const t=\"a-zA-Z0-9-\\\\._~\",r=\"!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=\",s=t+\"%0-9A-Fa-f\"+r+\":@\",i=\"[\"+s+\"]\",o=\"(?:0?0?[0-9]|0?[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\";n.rfc3986.IPv4address=\"(?:\"+o+\"\\\\.){3}\"+o;const a=\"[0-9A-Fa-f]{1,4}\",c=\"(?:\"+a+\":\"+a+\"|\"+n.rfc3986.IPv4address+\")\",l=\"(?:\"+a+\":){6}\"+c,u=\"::(?:\"+a+\":){5}\"+c,f=\"(?:\"+a+\")?::(?:\"+a+\":){4}\"+c,h=\"(?:(?:\"+a+\":){0,1}\"+a+\")?::(?:\"+a+\":){3}\"+c,p=\"(?:(?:\"+a+\":){0,2}\"+a+\")?::(?:\"+a+\":){2}\"+c,d=\"(?:(?:\"+a+\":){0,3}\"+a+\")?::\"+a+\":\"+c,g=\"(?:(?:\"+a+\":){0,4}\"+a+\")?::\"+c;n.rfc3986.IPv6address=\"(?:\"+l+e+u+e+f+e+h+e+p+e+d+e+g+e+\"(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}\"+e+\"(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)\",n.rfc3986.IPvFuture=\"v[0-9A-Fa-f]+\\\\.[\"+t+r+\":]+\",n.rfc3986.scheme=\"[a-zA-Z][a-zA-Z0-9+-\\\\.]*\";const m=\"(?:[a-zA-Z0-9-\\\\._~%0-9A-Fa-f!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=:]*@)?\"+(\"(?:\"+(\"\\\\[(?:\"+n.rfc3986.IPv6address+e+n.rfc3986.IPvFuture+\")\\\\]\")+e+n.rfc3986.IPv4address+e+\"[a-zA-Z0-9-\\\\._~%0-9A-Fa-f!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=]{0,255})\")+\"(?::[0-9]*)?\",y=i+\"+\",b=\"(?:\\\\/[a-zA-Z0-9-\\\\._~%0-9A-Fa-f!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=:@]*)*\",_=\"\\\\/(?:\"+y+b+\")?\";n.rfc3986.hierPart=\"(?:(?:\\\\/\\\\/\"+m+b+\")\"+e+_+e+\"[a-zA-Z0-9-\\\\._~%0-9A-Fa-f!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=:@]+(?:\\\\/[a-zA-Z0-9-\\\\._~%0-9A-Fa-f!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=:@]*)*)\",n.rfc3986.relativeRef=\"(?:(?:\\\\/\\\\/\"+m+b+\")\"+e+_+e+\"[a-zA-Z0-9-\\\\._~%0-9A-Fa-f!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=@]+(?:\\\\/[a-zA-Z0-9-\\\\._~%0-9A-Fa-f!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=:@]*)*\"+e+\")\",n.rfc3986.query=\"[\"+s+\"\\\\/\\\\?]*(?=#|$)\",n.rfc3986.fragment=\"[\"+s+\"\\\\/\\\\?]*\"}};n.generate(),e.exports=n.rfc3986},function(e,t){e.exports=require(\"assert\")},function(e,t){e.exports=require(\"crypto\")},function(e,t){e.exports=require(\"path\")},function(e,t,r){\"use strict\";const n={};t.escapeJavaScript=function(e){if(!e)return\"\";let t=\"\";for(let r=0;r<e.length;++r){const s=e.charCodeAt(r);n.isSafe(s)?t+=e[r]:t+=n.escapeJavaScriptChar(s)}return t},t.escapeHtml=function(e){if(!e)return\"\";let t=\"\";for(let r=0;r<e.length;++r){const s=e.charCodeAt(r);n.isSafe(s)?t+=e[r]:t+=n.escapeHtmlChar(s)}return t},t.escapeJson=function(e){if(!e)return\"\";let t;return e.replace(/[<>&\\u2028\\u2029]/g,e=>60===(t=e.charCodeAt(0))?\"\\\\u003c\":62===t?\"\\\\u003e\":38===t?\"\\\\u0026\":8232===t?\"\\\\u2028\":\"\\\\u2029\")},n.escapeJavaScriptChar=function(e){if(e>=256)return\"\\\\u\"+n.padLeft(\"\"+e,4);const t=Buffer.from(String.fromCharCode(e),\"ascii\").toString(\"hex\");return\"\\\\x\"+n.padLeft(t,2)},n.escapeHtmlChar=function(e){const t=n.namedHtml[e];if(void 0!==t)return t;if(e>=256)return\"&#\"+e+\";\";const r=Buffer.from(String.fromCharCode(e),\"ascii\").toString(\"hex\");return\"&#x\"+n.padLeft(r,2)+\";\"},n.padLeft=function(e,t){for(;e.length<t;)e=\"0\"+e;return e},n.isSafe=function(e){return void 0!==n.safeCharCodes[e]},n.namedHtml={38:\"&amp;\",60:\"&lt;\",62:\"&gt;\",34:\"&quot;\",160:\"&nbsp;\",162:\"&cent;\",163:\"&pound;\",164:\"&curren;\",169:\"&copy;\",174:\"&reg;\"},n.safeCharCodes=function(){const e={};for(let t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&(e[t]=null);return e}()},function(e,t,r){\"use strict\";t.errors={root:\"value\",key:'\"{{!label}}\" ',messages:{wrapArrays:!0},any:{unknown:\"is not allowed\",invalid:\"contains an invalid value\",empty:\"is not allowed to be empty\",required:\"is required\",allowOnly:\"must be one of {{valids}}\",default:\"threw an error when running default method\"},alternatives:{base:\"not matching any of the allowed alternatives\",child:null},array:{base:\"must be an array\",includes:\"at position {{pos}} does not match any of the allowed types\",includesSingle:'single value of \"{{!label}}\" does not match any of the allowed types',includesOne:\"at position {{pos}} fails because {{reason}}\",includesOneSingle:'single value of \"{{!label}}\" fails because {{reason}}',includesRequiredUnknowns:\"does not contain {{unknownMisses}} required value(s)\",includesRequiredKnowns:\"does not contain {{knownMisses}}\",includesRequiredBoth:\"does not contain {{knownMisses}} and {{unknownMisses}} other required value(s)\",excludes:\"at position {{pos}} contains an excluded value\",excludesSingle:'single value of \"{{!label}}\" contains an excluded value',min:\"must contain at least {{limit}} items\",max:\"must contain less than or equal to {{limit}} items\",length:\"must contain {{limit}} items\",ordered:\"at position {{pos}} fails because {{reason}}\",orderedLength:\"at position {{pos}} fails because array must contain at most {{limit}} items\",ref:'references \"{{ref}}\" which is not a positive integer',sparse:\"must not be a sparse array\",unique:\"position {{pos}} contains a duplicate value\"},boolean:{base:\"must be a boolean\"},binary:{base:\"must be a buffer or a string\",min:\"must be at least {{limit}} bytes\",max:\"must be less than or equal to {{limit}} bytes\",length:\"must be {{limit}} bytes\"},date:{base:\"must be a number of milliseconds or valid date string\",format:\"must be a string with one of the following formats {{format}}\",strict:\"must be a valid date\",min:'must be larger than or equal to \"{{limit}}\"',max:'must be less than or equal to \"{{limit}}\"',less:'must be less than \"{{limit}}\"',greater:'must be greater than \"{{limit}}\"',isoDate:\"must be a valid ISO 8601 date\",timestamp:{javascript:\"must be a valid timestamp or number of milliseconds\",unix:\"must be a valid timestamp or number of seconds\"},ref:'references \"{{ref}}\" which is not a date'},function:{base:\"must be a Function\",arity:\"must have an arity of {{n}}\",minArity:\"must have an arity greater or equal to {{n}}\",maxArity:\"must have an arity lesser or equal to {{n}}\",ref:\"must be a Joi reference\",class:\"must be a class\"},lazy:{base:\"!!schema error: lazy schema must be set\",schema:\"!!schema error: lazy schema function must return a schema\"},object:{base:\"must be an object\",child:'!!child \"{{!child}}\" fails because {{reason}}',min:\"must have at least {{limit}} children\",max:\"must have less than or equal to {{limit}} children\",length:\"must have {{limit}} children\",allowUnknown:'!!\"{{!child}}\" is not allowed',with:'!!\"{{mainWithLabel}}\" missing required peer \"{{peerWithLabel}}\"',without:'!!\"{{mainWithLabel}}\" conflict with forbidden peer \"{{peerWithLabel}}\"',missing:\"must contain at least one of {{peersWithLabels}}\",xor:\"contains a conflict between exclusive peers {{peersWithLabels}}\",or:\"must contain at least one of {{peersWithLabels}}\",and:\"contains {{presentWithLabels}} without its required peers {{missingWithLabels}}\",nand:'!!\"{{mainWithLabel}}\" must not exist simultaneously with {{peersWithLabels}}',assert:'!!\"{{ref}}\" validation failed because \"{{ref}}\" failed to {{message}}',rename:{multiple:'cannot rename child \"{{from}}\" because multiple renames are disabled and another key was already renamed to \"{{to}}\"',override:'cannot rename child \"{{from}}\" because override is disabled and target \"{{to}}\" exists',regex:{multiple:'cannot rename children {{from}} because multiple renames are disabled and another key was already renamed to \"{{to}}\"',override:'cannot rename children {{from}} because override is disabled and target \"{{to}}\" exists'}},type:'must be an instance of \"{{type}}\"',schema:\"must be a Joi instance\"},number:{base:\"must be a number\",min:\"must be larger than or equal to {{limit}}\",max:\"must be less than or equal to {{limit}}\",less:\"must be less than {{limit}}\",greater:\"must be greater than {{limit}}\",float:\"must be a float or double\",integer:\"must be an integer\",negative:\"must be a negative number\",positive:\"must be a positive number\",precision:\"must have no more than {{limit}} decimal places\",ref:'references \"{{ref}}\" which is not a number',multiple:\"must be a multiple of {{multiple}}\",port:\"must be a valid port\"},string:{base:\"must be a string\",min:\"length must be at least {{limit}} characters long\",max:\"length must be less than or equal to {{limit}} characters long\",length:\"length must be {{limit}} characters long\",alphanum:\"must only contain alpha-numeric characters\",token:\"must only contain alpha-numeric and underscore characters\",regex:{base:'with value \"{{!value}}\" fails to match the required pattern: {{pattern}}',name:'with value \"{{!value}}\" fails to match the {{name}} pattern',invert:{base:'with value \"{{!value}}\" matches the inverted pattern: {{pattern}}',name:'with value \"{{!value}}\" matches the inverted {{name}} pattern'}},email:\"must be a valid email\",uri:\"must be a valid uri\",uriRelativeOnly:\"must be a valid relative uri\",uriCustomScheme:\"must be a valid uri with a scheme matching the {{scheme}} pattern\",isoDate:\"must be a valid ISO 8601 date\",guid:\"must be a valid GUID\",hex:\"must only contain hexadecimal characters\",hexAlign:\"hex decoded representation must be byte aligned\",base64:\"must be a valid base64 string\",hostname:\"must be a valid hostname\",normalize:\"must be unicode normalized in the {{form}} form\",lowercase:\"must only contain lowercase characters\",uppercase:\"must only contain uppercase characters\",trim:\"must not have leading or trailing whitespace\",creditCard:\"must be a credit card\",ref:'references \"{{ref}}\" which is not a number',ip:\"must be a valid ip address with a {{cidr}} CIDR\",ipVersion:\"must be a valid ip address of one of the following versions {{version}} with a {{cidr}} CIDR\"}}},function(e,t,r){\"use strict\";const n=r(21);t.options=n.object({abortEarly:n.boolean(),convert:n.boolean(),allowUnknown:n.boolean(),skipFunctions:n.boolean(),stripUnknown:[n.boolean(),n.object({arrays:n.boolean(),objects:n.boolean()}).or(\"arrays\",\"objects\")],language:n.object(),presence:n.string().only(\"required\",\"optional\",\"forbidden\",\"ignore\"),raw:n.boolean(),context:n.object(),strip:n.boolean(),noDefaults:n.boolean(),escapeHtml:n.boolean()}).strict()},function(e,t,r){\"use strict\";const n=r(17),s=r(16),i={Lazy:class extends n{constructor(){super(),this._type=\"lazy\"}_base(e,t,r){const s={value:e},i=this._flags.lazy;if(!i)return s.errors=this.createError(\"lazy.base\",null,t,r),s;const o=i();return o instanceof n?o._validate(e,t,r):(s.errors=this.createError(\"lazy.schema\",null,t,r),s)}set(e){s.assert(\"function\"==typeof e,\"You must provide a function as first argument\");const t=this.clone();return t._flags.lazy=e,t}}};e.exports=new i.Lazy},function(e,t,r){\"use strict\";const n=r(17),s=r(19),i=r(18),o=r(16),a={fastSplice:function(e,t){let r=t;for(;r<e.length;)e[r++]=e[r];--e.length},Array:class extends n{constructor(){super(),this._type=\"array\",this._inner.items=[],this._inner.ordereds=[],this._inner.inclusions=[],this._inner.exclusions=[],this._inner.requireds=[],this._flags.sparse=!1}_base(e,t,r){const n={value:e};\"string\"==typeof e&&r.convert&&a.safeParse(e,n);let s=Array.isArray(n.value);const i=s;if(r.convert&&this._flags.single&&!s&&(n.value=[n.value],s=!0),!s)return n.errors=this.createError(\"array.base\",null,t,r),n;if((this._inner.inclusions.length||this._inner.exclusions.length||this._inner.requireds.length||this._inner.ordereds.length||!this._flags.sparse)&&(i&&(n.value=n.value.slice(0)),n.errors=this._checkItems.call(this,n.value,i,t,r),n.errors&&i&&r.convert&&this._flags.single)){const e=n.errors;n.value=[n.value],n.errors=this._checkItems.call(this,n.value,i,t,r),n.errors&&(n.errors=e,n.value=n.value[0])}return n}_checkItems(e,t,r,n){const s=[];let i;const o=this._inner.requireds.slice(),c=this._inner.ordereds.slice(),l=this._inner.inclusions.concat(o);let u=e.length;for(let f=0;f<u;++f){i=!1;const h=e[f];let p=!1;const d={key:t?f:r.key,path:t?r.path.concat(f):r.path,parent:r.parent,reference:r.reference};let g;if(!this._flags.sparse&&void 0===h){if(s.push(this.createError(\"array.sparse\",null,{key:r.key,path:d.path,pos:f},n)),n.abortEarly)return s;c.shift();continue}for(let e=0;e<this._inner.exclusions.length;++e)if(!(g=this._inner.exclusions[e]._validate(h,d,{})).errors){if(s.push(this.createError(t?\"array.excludes\":\"array.excludesSingle\",{pos:f,value:h},{key:r.key,path:d.path},n)),i=!0,n.abortEarly)return s;c.shift();break}if(i)continue;if(this._inner.ordereds.length){if(c.length>0){const t=c.shift();if((g=t._validate(h,d,n)).errors){if(s.push(this.createError(\"array.ordered\",{pos:f,reason:g.errors,value:h},{key:r.key,path:d.path},n)),n.abortEarly)return s}else if(t._flags.strip)a.fastSplice(e,f),--f,--u;else{if(!this._flags.sparse&&void 0===g.value){if(s.push(this.createError(\"array.sparse\",null,{key:r.key,path:d.path,pos:f},n)),n.abortEarly)return s;continue}e[f]=g.value}continue}if(!this._inner.items.length){if(s.push(this.createError(\"array.orderedLength\",{pos:f,limit:this._inner.ordereds.length},{key:r.key,path:d.path},n)),n.abortEarly)return s;continue}}const m=[];let y=o.length;for(let t=0;t<y;++t)if(!(g=m[t]=o[t]._validate(h,d,n)).errors){if(e[f]=g.value,p=!0,a.fastSplice(o,t),--t,--y,!this._flags.sparse&&void 0===g.value&&(s.push(this.createError(\"array.sparse\",null,{key:r.key,path:d.path,pos:f},n)),n.abortEarly))return s;break}if(p)continue;const b=!!n.stripUnknown&&(!0===n.stripUnknown||!!n.stripUnknown.arrays);y=l.length;for(let c=0;c<y;++c){const _=l[c],v=o.indexOf(_);if(-1!==v)g=m[v];else if(!(g=_._validate(h,d,n)).errors){_._flags.strip?(a.fastSplice(e,f),--f,--u):this._flags.sparse||void 0!==g.value?e[f]=g.value:(s.push(this.createError(\"array.sparse\",null,{key:r.key,path:d.path,pos:f},n)),i=!0),p=!0;break}if(1===y){if(b){a.fastSplice(e,f),--f,--u,p=!0;break}if(s.push(this.createError(t?\"array.includesOne\":\"array.includesOneSingle\",{pos:f,reason:g.errors,value:h},{key:r.key,path:d.path},n)),i=!0,n.abortEarly)return s;break}}if(!i&&(this._inner.inclusions.length&&!p)){if(b){a.fastSplice(e,f),--f,--u;continue}if(s.push(this.createError(t?\"array.includes\":\"array.includesSingle\",{pos:f,value:h},{key:r.key,path:d.path},n)),n.abortEarly)return s}}return o.length&&this._fillMissedErrors.call(this,s,o,r,n),c.length&&this._fillOrderedErrors.call(this,s,c,r,n),s.length?s:null}describe(){const e=n.prototype.describe.call(this);if(this._inner.ordereds.length){e.orderedItems=[];for(let t=0;t<this._inner.ordereds.length;++t)e.orderedItems.push(this._inner.ordereds[t].describe())}if(this._inner.items.length){e.items=[];for(let t=0;t<this._inner.items.length;++t)e.items.push(this._inner.items[t].describe())}return e}items(...e){const t=this.clone();return o.flatten(e).forEach((e,r)=>{try{e=s.schema(this._currentJoi,e)}catch(e){throw e.hasOwnProperty(\"path\")?e.path=r+\".\"+e.path:e.path=r,e.message=e.message+\"(\"+e.path+\")\",e}t._inner.items.push(e),\"required\"===e._flags.presence?t._inner.requireds.push(e):\"forbidden\"===e._flags.presence?t._inner.exclusions.push(e.optional()):t._inner.inclusions.push(e)}),t}ordered(...e){const t=this.clone();return o.flatten(e).forEach((e,r)=>{try{e=s.schema(this._currentJoi,e)}catch(e){throw e.hasOwnProperty(\"path\")?e.path=r+\".\"+e.path:e.path=r,e.message=e.message+\"(\"+e.path+\")\",e}t._inner.ordereds.push(e)}),t}min(e){const t=i.isRef(e);return o.assert(Number.isSafeInteger(e)&&e>=0||t,\"limit must be a positive integer or reference\"),this._test(\"min\",e,function(r,n,s){let i;if(t){if(i=e(n.reference||n.parent,s),!(Number.isSafeInteger(i)&&i>=0))return this.createError(\"array.ref\",{ref:e.key},n,s)}else i=e;return r.length>=i?r:this.createError(\"array.min\",{limit:e,value:r},n,s)})}max(e){const t=i.isRef(e);return o.assert(Number.isSafeInteger(e)&&e>=0||t,\"limit must be a positive integer or reference\"),this._test(\"max\",e,function(r,n,s){let i;if(t){if(i=e(n.reference||n.parent,s),!(Number.isSafeInteger(i)&&i>=0))return this.createError(\"array.ref\",{ref:e.key},n,s)}else i=e;return r.length<=i?r:this.createError(\"array.max\",{limit:e,value:r},n,s)})}length(e){const t=i.isRef(e);return o.assert(Number.isSafeInteger(e)&&e>=0||t,\"limit must be a positive integer or reference\"),this._test(\"length\",e,function(r,n,s){let i;if(t){if(i=e(n.reference||n.parent,s),!(Number.isSafeInteger(i)&&i>=0))return this.createError(\"array.ref\",{ref:e.key},n,s)}else i=e;return r.length===i?r:this.createError(\"array.length\",{limit:e,value:r},n,s)})}unique(e){o.assert(void 0===e||\"function\"==typeof e||\"string\"==typeof e,\"comparator must be a function or a string\");const t={};return\"string\"==typeof e?t.path=e:\"function\"==typeof e&&(t.comparator=e),this._test(\"unique\",t,function(e,r,n){const s={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},i=t.comparator||o.deepEqual;for(let a=0;a<e.length;++a){const c=t.path?o.reach(e[a],t.path):e[a],l=t.comparator?s.custom:s[typeof c];if(l)if(l instanceof Map){const s=l.entries();let o;for(;!(o=s.next()).done;)if(i(o.value[0],c)){const s={key:r.key,path:r.path.concat(a),parent:r.parent,reference:r.reference},i={pos:a,value:e[a],dupePos:o.value[1],dupeValue:e[o.value[1]]};return t.path&&(i.path=t.path),this.createError(\"array.unique\",i,s,n)}l.set(c,a)}else{if(void 0!==l[c]){const s={key:r.key,path:r.path.concat(a),parent:r.parent,reference:r.reference},i={pos:a,value:e[a],dupePos:l[c],dupeValue:e[l[c]]};return t.path&&(i.path=t.path),this.createError(\"array.unique\",i,s,n)}l[c]=a}}return e})}sparse(e){const t=void 0===e||!!e;if(this._flags.sparse===t)return this;const r=this.clone();return r._flags.sparse=t,r}single(e){const t=void 0===e||!!e;if(this._flags.single===t)return this;const r=this.clone();return r._flags.single=t,r}_fillMissedErrors(e,t,r,n){const s=[];let i=0;for(let e=0;e<t.length;++e){const r=t[e]._getLabel();r?s.push(r):++i}s.length?i?e.push(this.createError(\"array.includesRequiredBoth\",{knownMisses:s,unknownMisses:i},{key:r.key,path:r.path},n)):e.push(this.createError(\"array.includesRequiredKnowns\",{knownMisses:s},{key:r.key,path:r.path},n)):e.push(this.createError(\"array.includesRequiredUnknowns\",{unknownMisses:i},{key:r.key,path:r.path},n))}_fillOrderedErrors(e,t,r,n){const s=[];for(let e=0;e<t.length;++e){\"required\"===o.reach(t[e],\"_flags.presence\")&&s.push(t[e])}s.length&&this._fillMissedErrors.call(this,e,s,r,n)}},safeParse:function(e,t){try{const r=JSON.parse(e);Array.isArray(r)&&(t.value=r)}catch(e){}}};e.exports=new a.Array},function(e,t,r){\"use strict\";const n=r(17),s=r(16),i={Set:r(24),Boolean:class extends n{constructor(){super(),this._type=\"boolean\",this._flags.insensitive=!0,this._inner.truthySet=new i.Set,this._inner.falsySet=new i.Set}_base(e,t,r){const n={value:e};if(\"string\"==typeof e&&r.convert){const t=this._flags.insensitive?e.toLowerCase():e;n.value=\"true\"===t||\"false\"!==t&&e}return\"boolean\"!=typeof n.value&&(n.value=!!this._inner.truthySet.has(e,null,null,this._flags.insensitive)||!this._inner.falsySet.has(e,null,null,this._flags.insensitive)&&e),n.errors=\"boolean\"==typeof n.value?null:this.createError(\"boolean.base\",null,t,r),n}truthy(...e){const t=this.clone();e=s.flatten(e);for(let r=0;r<e.length;++r){const n=e[r];s.assert(void 0!==n,\"Cannot call truthy with undefined\"),t._inner.truthySet.add(n)}return t}falsy(...e){const t=this.clone();e=s.flatten(e);for(let r=0;r<e.length;++r){const n=e[r];s.assert(void 0!==n,\"Cannot call falsy with undefined\"),t._inner.falsySet.add(n)}return t}insensitive(e){const t=void 0===e||!!e;if(this._flags.insensitive===t)return this;const r=this.clone();return r._flags.insensitive=t,r}describe(){const e=n.prototype.describe.call(this);return e.truthy=[!0].concat(this._inner.truthySet.values()),e.falsy=[!1].concat(this._inner.falsySet.values()),e}}};e.exports=new i.Boolean},function(e,t,r){\"use strict\";const n=r(17),s=r(16),i={Binary:class extends n{constructor(){super(),this._type=\"binary\"}_base(e,t,r){const n={value:e};if(\"string\"==typeof e&&r.convert)try{n.value=Buffer.from(e,this._flags.encoding)}catch(e){}return n.errors=Buffer.isBuffer(n.value)?null:this.createError(\"binary.base\",null,t,r),n}encoding(e){if(s.assert(Buffer.isEncoding(e),\"Invalid encoding:\",e),this._flags.encoding===e)return this;const t=this.clone();return t._flags.encoding=e,t}min(e){return s.assert(Number.isSafeInteger(e)&&e>=0,\"limit must be a positive integer\"),this._test(\"min\",e,function(t,r,n){return t.length>=e?t:this.createError(\"binary.min\",{limit:e,value:t},r,n)})}max(e){return s.assert(Number.isSafeInteger(e)&&e>=0,\"limit must be a positive integer\"),this._test(\"max\",e,function(t,r,n){return t.length<=e?t:this.createError(\"binary.max\",{limit:e,value:t},r,n)})}length(e){return s.assert(Number.isSafeInteger(e)&&e>=0,\"limit must be a positive integer\"),this._test(\"length\",e,function(t,r,n){return t.length===e?t:this.createError(\"binary.length\",{limit:e,value:t},r,n)})}}};e.exports=new i.Binary},function(e,t,r){\"use strict\";const n=r(16),s=r(27),i=r(18),o={Func:class extends s.constructor{constructor(){super(),this._flags.func=!0}arity(e){return n.assert(Number.isSafeInteger(e)&&e>=0,\"n must be a positive integer\"),this._test(\"arity\",e,function(t,r,n){return t.length===e?t:this.createError(\"function.arity\",{n:e},r,n)})}minArity(e){return n.assert(Number.isSafeInteger(e)&&e>0,\"n must be a strict positive integer\"),this._test(\"minArity\",e,function(t,r,n){return t.length>=e?t:this.createError(\"function.minArity\",{n:e},r,n)})}maxArity(e){return n.assert(Number.isSafeInteger(e)&&e>=0,\"n must be a positive integer\"),this._test(\"maxArity\",e,function(t,r,n){return t.length<=e?t:this.createError(\"function.maxArity\",{n:e},r,n)})}ref(){return this._test(\"ref\",null,function(e,t,r){return i.isRef(e)?e:this.createError(\"function.ref\",null,t,r)})}class(){return this._test(\"class\",null,function(e,t,r){return/^\\s*class\\s/.test(e.toString())?e:this.createError(\"function.class\",null,t,r)})}}};e.exports=new o.Func},function(e,t,r){\"use strict\";const n=r(16),s={};e.exports=s.Topo=function(){this._items=[],this.nodes=[]},s.Topo.prototype.add=function(e,t){const r=[].concat((t=t||{}).before||[]),s=[].concat(t.after||[]),i=t.group||\"?\",o=t.sort||0;n.assert(-1===r.indexOf(i),\"Item cannot come before itself:\",i),n.assert(-1===r.indexOf(\"?\"),\"Item cannot come before unassociated items\"),n.assert(-1===s.indexOf(i),\"Item cannot come after itself:\",i),n.assert(-1===s.indexOf(\"?\"),\"Item cannot come after unassociated items\"),[].concat(e).forEach((e,t)=>{const n={seq:this._items.length,sort:o,before:r,after:s,group:i,node:e};this._items.push(n)});const a=this._sort();return n.assert(!a,\"item\",\"?\"!==i?\"added into group \"+i:\"\",\"created a dependencies error\"),this.nodes},s.Topo.prototype.merge=function(e){e=[].concat(e);for(let t=0;t<e.length;++t){const r=e[t];if(r)for(let e=0;e<r._items.length;++e){const t=n.shallow(r._items[e]);this._items.push(t)}}this._items.sort(s.mergeSort);for(let e=0;e<this._items.length;++e)this._items[e].seq=e;const t=this._sort();return n.assert(!t,\"merge created a dependencies error\"),this.nodes},s.mergeSort=function(e,t){return e.sort===t.sort?0:e.sort<t.sort?-1:1},s.Topo.prototype._sort=function(){const e={},t=Object.create(null),r=Object.create(null);for(let n=0;n<this._items.length;++n){const s=this._items[n],i=s.seq,o=s.group;r[o]=r[o]||[],r[o].push(i),e[i]=s.before;const a=s.after;for(let e=0;e<a.length;++e)t[a[e]]=(t[a[e]]||[]).concat(i)}let n=Object.keys(e);for(let t=0;t<n.length;++t){const s=n[t],i=[],o=Object.keys(e[s]);for(let t=0;t<o.length;++t){const n=e[s][o[t]];r[n]=r[n]||[];for(let e=0;e<r[n].length;++e)i.push(r[n][e])}e[s]=i}const s=Object.keys(t);for(let n=0;n<s.length;++n){const i=s[n];if(r[i])for(let n=0;n<r[i].length;++n){const s=r[i][n];e[s]=e[s].concat(t[i])}}let i;const o={};n=Object.keys(e);for(let t=0;t<n.length;++t){const r=n[t];i=e[r];for(let e=0;e<i.length;++e)o[i[e]]=(o[i[e]]||[]).concat(r)}const a={},c=[];for(let e=0;e<this._items.length;++e){let t=e;if(o[e]){t=null;for(let e=0;e<this._items.length;++e){if(!0===a[e])continue;o[e]||(o[e]=[]);const r=o[e].length;let n=0;for(let t=0;t<r;++t)a[o[e][t]]&&++n;if(n===r){t=e;break}}}null!==t&&(a[t]=!0,c.push(t))}if(c.length!==this._items.length)return new Error(\"Invalid dependencies\");const l={};for(let e=0;e<this._items.length;++e){const t=this._items[e];l[t.seq]=t}const u=[];this._items=c.map(e=>{const t=l[e];return u.push(t.node),t}),this.nodes=u}},function(e,t,r){\"use strict\";const n=r(17),s=r(18),i=r(16),o={precisionRx:/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/,Number:class extends n{constructor(){super(),this._type=\"number\",this._invalids.add(1/0),this._invalids.add(-1/0)}_base(e,t,r){const n={errors:null,value:e};if(\"string\"==typeof e&&r.convert){const t=parseFloat(e);n.value=isNaN(t)||!isFinite(e)?NaN:t}const s=\"number\"==typeof n.value&&!isNaN(n.value);if(r.convert&&\"precision\"in this._flags&&s){const e=Math.pow(10,this._flags.precision);n.value=Math.round(n.value*e)/e}return n.errors=s?null:this.createError(\"number.base\",null,t,r),n}multiple(e){const t=s.isRef(e);return t||(i.assert(\"number\"==typeof e&&isFinite(e),\"multiple must be a number\"),i.assert(e>0,\"multiple must be greater than 0\")),this._test(\"multiple\",e,function(r,n,s){const i=t?e(n.reference||n.parent,s):e;return!t||\"number\"==typeof i&&isFinite(i)?r%i==0?r:this.createError(\"number.multiple\",{multiple:e,value:r},n,s):this.createError(\"number.ref\",{ref:e.key},n,s)})}integer(){return this._test(\"integer\",void 0,function(e,t,r){return Number.isSafeInteger(e)?e:this.createError(\"number.integer\",{value:e},t,r)})}negative(){return this._test(\"negative\",void 0,function(e,t,r){return e<0?e:this.createError(\"number.negative\",{value:e},t,r)})}positive(){return this._test(\"positive\",void 0,function(e,t,r){return e>0?e:this.createError(\"number.positive\",{value:e},t,r)})}precision(e){i.assert(Number.isSafeInteger(e),\"limit must be an integer\"),i.assert(!(\"precision\"in this._flags),\"precision already set\");const t=this._test(\"precision\",e,function(t,r,n){const s=t.toString().match(o.precisionRx);return Math.max((s[1]?s[1].length:0)-(s[2]?parseInt(s[2],10):0),0)<=e?t:this.createError(\"number.precision\",{limit:e,value:t},r,n)});return t._flags.precision=e,t}port(){return this._test(\"port\",void 0,function(e,t,r){return!Number.isSafeInteger(e)||e<0||e>65535?this.createError(\"number.port\",{value:e},t,r):e})}},compare:function(e,t){return function(r){const n=s.isRef(r),o=\"number\"==typeof r&&!isNaN(r);return i.assert(o||n,\"limit must be a number or reference\"),this._test(e,r,function(s,i,o){let a;if(n){if(\"number\"!=typeof(a=r(i.reference||i.parent,o))||isNaN(a))return this.createError(\"number.ref\",{ref:r.key},i,o)}else a=r;return t(s,a)?s:this.createError(\"number.\"+e,{limit:a,value:s},i,o)})}}};o.Number.prototype.min=o.compare(\"min\",(e,t)=>e>=t),o.Number.prototype.max=o.compare(\"max\",(e,t)=>e<=t),o.Number.prototype.greater=o.compare(\"greater\",(e,t)=>e>t),o.Number.prototype.less=o.compare(\"less\",(e,t)=>e<t),e.exports=new o.Number},function(e,t,r){\"use strict\";const n=r(43),s=r(16);let i;const o=r(17),a=r(18),c=r(26),l=r(44),u=r(45),f={uriRegex:l.createUriRegex(),ipRegex:u.createIpRegex([\"ipv4\",\"ipv6\",\"ipvfuture\"],\"optional\"),guidBrackets:{\"{\":\"}\",\"[\":\"]\",\"(\":\")\",\"\":\"\"},guidVersions:{uuidv1:\"1\",uuidv2:\"2\",uuidv3:\"3\",uuidv4:\"4\",uuidv5:\"5\"},cidrPresences:[\"required\",\"optional\",\"forbidden\"],normalizationForms:[\"NFC\",\"NFD\",\"NFKC\",\"NFKD\"],String:class extends o{constructor(){super(),this._type=\"string\",this._invalids.add(\"\")}_base(e,t,r){if(\"string\"==typeof e&&r.convert){if(this._flags.normalize&&(e=e.normalize(this._flags.normalize)),this._flags.case&&(e=\"upper\"===this._flags.case?e.toLocaleUpperCase():e.toLocaleLowerCase()),this._flags.trim&&(e=e.trim()),this._inner.replacements)for(let t=0;t<this._inner.replacements.length;++t){const r=this._inner.replacements[t];e=e.replace(r.pattern,r.replacement)}if(this._flags.truncate)for(let t=0;t<this._tests.length;++t){const r=this._tests[t];if(\"max\"===r.name){e=e.slice(0,r.arg);break}}this._flags.byteAligned&&e.length%2!=0&&(e=`0${e}`)}return{value:e,errors:\"string\"==typeof e?null:this.createError(\"string.base\",{value:e},t,r)}}insensitive(){if(this._flags.insensitive)return this;const e=this.clone();return e._flags.insensitive=!0,e}creditCard(){return this._test(\"creditCard\",void 0,function(e,t,r){let n=e.length,s=0,i=1;for(;n--;){const t=e.charAt(n)*i;s+=t-9*(t>9),i^=3}return s%10==0&&s>0?e:this.createError(\"string.creditCard\",{value:e},t,r)})}regex(e,t){s.assert(e instanceof RegExp,\"pattern must be a RegExp\");const r={pattern:new RegExp(e.source,e.ignoreCase?\"i\":void 0)};\"string\"==typeof t?r.name=t:\"object\"==typeof t&&(r.invert=!!t.invert,t.name&&(r.name=t.name));const n=[\"string.regex\",r.invert?\".invert\":\"\",r.name?\".name\":\".base\"].join(\"\");return this._test(\"regex\",r,function(e,t,s){return r.pattern.test(e)^r.invert?e:this.createError(n,{name:r.name,pattern:r.pattern,value:e},t,s)})}alphanum(){return this._test(\"alphanum\",void 0,function(e,t,r){return/^[a-zA-Z0-9]+$/.test(e)?e:this.createError(\"string.alphanum\",{value:e},t,r)})}token(){return this._test(\"token\",void 0,function(e,t,r){return/^\\w+$/.test(e)?e:this.createError(\"string.token\",{value:e},t,r)})}email(e){return e&&(s.assert(\"object\"==typeof e,\"email options must be an object\"),s.assert(void 0===e.checkDNS,\"checkDNS option is not supported\"),s.assert(void 0===e.tldWhitelist||\"object\"==typeof e.tldWhitelist,\"tldWhitelist must be an array or object\"),s.assert(void 0===e.minDomainAtoms||Number.isSafeInteger(e.minDomainAtoms)&&e.minDomainAtoms>0,\"minDomainAtoms must be a positive integer\"),s.assert(void 0===e.errorLevel||\"boolean\"==typeof e.errorLevel||Number.isSafeInteger(e.errorLevel)&&e.errorLevel>=0,\"errorLevel must be a non-negative integer or boolean\")),this._test(\"email\",e,function(t,n,s){i=i||r(46);try{const r=i.validate(t,e);if(!0===r||0===r)return t}catch(e){}return this.createError(\"string.email\",{value:t},n,s)})}ip(e={}){let t,r=f.ipRegex;if(s.assert(\"object\"==typeof e,\"options must be an object\"),e.cidr?(s.assert(\"string\"==typeof e.cidr,\"cidr must be a string\"),e.cidr=e.cidr.toLowerCase(),s.assert(s.contain(f.cidrPresences,e.cidr),\"cidr must be one of \"+f.cidrPresences.join(\", \")),e.version||\"optional\"===e.cidr||(r=u.createIpRegex([\"ipv4\",\"ipv6\",\"ipvfuture\"],e.cidr))):e.cidr=\"optional\",e.version){Array.isArray(e.version)||(e.version=[e.version]),s.assert(e.version.length>=1,\"version must have at least 1 version specified\"),t=[];for(let r=0;r<e.version.length;++r){let n=e.version[r];s.assert(\"string\"==typeof n,\"version at position \"+r+\" must be a string\"),n=n.toLowerCase(),s.assert(u.versions[n],\"version at position \"+r+\" must be one of \"+Object.keys(u.versions).join(\", \")),t.push(n)}t=s.unique(t),r=u.createIpRegex(t,e.cidr)}return this._test(\"ip\",e,function(n,s,i){return r.test(n)?n:t?this.createError(\"string.ipVersion\",{value:n,cidr:e.cidr,version:t},s,i):this.createError(\"string.ip\",{value:n,cidr:e.cidr},s,i)})}uri(e){let t=\"\",r=!1,n=!1,i=f.uriRegex;if(e){if(s.assert(\"object\"==typeof e,\"options must be an object\"),e.scheme){s.assert(e.scheme instanceof RegExp||\"string\"==typeof e.scheme||Array.isArray(e.scheme),\"scheme must be a RegExp, String, or Array\"),Array.isArray(e.scheme)||(e.scheme=[e.scheme]),s.assert(e.scheme.length>=1,\"scheme must have at least 1 scheme specified\");for(let r=0;r<e.scheme.length;++r){const n=e.scheme[r];s.assert(n instanceof RegExp||\"string\"==typeof n,\"scheme at position \"+r+\" must be a RegExp or String\"),t+=t?\"|\":\"\",n instanceof RegExp?t+=n.source:(s.assert(/[a-zA-Z][a-zA-Z0-9+-\\.]*/.test(n),\"scheme at position \"+r+\" must be a valid scheme\"),t+=s.escapeRegex(n))}}e.allowRelative&&(r=!0),e.relativeOnly&&(n=!0)}return(t||r||n)&&(i=l.createUriRegex(t,r,n)),this._test(\"uri\",e,function(e,r,s){return i.test(e)?e:n?this.createError(\"string.uriRelativeOnly\",{value:e},r,s):t?this.createError(\"string.uriCustomScheme\",{scheme:t,value:e},r,s):this.createError(\"string.uri\",{value:e},r,s)})}isoDate(){return this._test(\"isoDate\",void 0,function(e,t,r){if(c._isIsoDate(e)){if(!r.convert)return e;const t=new Date(e);if(!isNaN(t.getTime()))return t.toISOString()}return this.createError(\"string.isoDate\",{value:e},t,r)})}guid(e){let t=\"\";if(e&&e.version){Array.isArray(e.version)||(e.version=[e.version]),s.assert(e.version.length>=1,\"version must have at least 1 valid version specified\");const r=new Set;for(let n=0;n<e.version.length;++n){let i=e.version[n];s.assert(\"string\"==typeof i,\"version at position \"+n+\" must be a string\"),i=i.toLowerCase();const o=f.guidVersions[i];s.assert(o,\"version at position \"+n+\" must be one of \"+Object.keys(f.guidVersions).join(\", \")),s.assert(!r.has(o),\"version at position \"+n+\" must not be a duplicate.\"),t+=o,r.add(o)}}const r=new RegExp(`^([\\\\[{\\\\(]?)[0-9A-F]{8}([:-]?)[0-9A-F]{4}\\\\2?[${t||\"0-9A-F\"}][0-9A-F]{3}\\\\2?[${t?\"89AB\":\"0-9A-F\"}][0-9A-F]{3}\\\\2?[0-9A-F]{12}([\\\\]}\\\\)]?)$`,\"i\");return this._test(\"guid\",e,function(e,t,n){const s=r.exec(e);return s?f.guidBrackets[s[1]]!==s[s.length-1]?this.createError(\"string.guid\",{value:e},t,n):e:this.createError(\"string.guid\",{value:e},t,n)})}hex(e={}){s.assert(\"object\"==typeof e,\"hex options must be an object\"),s.assert(void 0===e.byteAligned||\"boolean\"==typeof e.byteAligned,\"byteAligned must be boolean\");const t=!0===e.byteAligned,r=/^[a-f0-9]+$/i,n=this._test(\"hex\",r,function(e,n,s){return r.test(e)?t&&e.length%2!=0?this.createError(\"string.hexAlign\",{value:e},n,s):e:this.createError(\"string.hex\",{value:e},n,s)});return t&&(n._flags.byteAligned=!0),n}base64(e={}){s.assert(\"object\"==typeof e,\"base64 options must be an object\"),s.assert(void 0===e.paddingRequired||\"boolean\"==typeof e.paddingRequired,\"paddingRequired must be boolean\");const t=(!1===e.paddingRequired?e.paddingRequired:e.paddingRequired||!0)?/^(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+\\/]{3}=)?$/:/^(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}(==)?|[A-Za-z0-9+\\/]{3}=?)?$/;return this._test(\"base64\",t,function(e,r,n){return t.test(e)?e:this.createError(\"string.base64\",{value:e},r,n)})}hostname(){const e=/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\\-]*[A-Za-z0-9])$/;return this._test(\"hostname\",void 0,function(t,r,s){return t.length<=255&&e.test(t)||n.isIPv6(t)?t:this.createError(\"string.hostname\",{value:t},r,s)})}normalize(e=\"NFC\"){s.assert(s.contain(f.normalizationForms,e),\"normalization form must be one of \"+f.normalizationForms.join(\", \"));const t=this._test(\"normalize\",e,function(t,r,n){return n.convert||t===t.normalize(e)?t:this.createError(\"string.normalize\",{value:t,form:e},r,n)});return t._flags.normalize=e,t}lowercase(){const e=this._test(\"lowercase\",void 0,function(e,t,r){return r.convert||e===e.toLocaleLowerCase()?e:this.createError(\"string.lowercase\",{value:e},t,r)});return e._flags.case=\"lower\",e}uppercase(){const e=this._test(\"uppercase\",void 0,function(e,t,r){return r.convert||e===e.toLocaleUpperCase()?e:this.createError(\"string.uppercase\",{value:e},t,r)});return e._flags.case=\"upper\",e}trim(){const e=this._test(\"trim\",void 0,function(e,t,r){return r.convert||e===e.trim()?e:this.createError(\"string.trim\",{value:e},t,r)});return e._flags.trim=!0,e}replace(e,t){\"string\"==typeof e&&(e=new RegExp(s.escapeRegex(e),\"g\")),s.assert(e instanceof RegExp,\"pattern must be a RegExp\"),s.assert(\"string\"==typeof t,\"replacement must be a String\");const r=this.clone();return r._inner.replacements||(r._inner.replacements=[]),r._inner.replacements.push({pattern:e,replacement:t}),r}truncate(e){const t=void 0===e||!!e;if(this._flags.truncate===t)return this;const r=this.clone();return r._flags.truncate=t,r}},compare:function(e,t){return function(r,n){const i=a.isRef(r);return s.assert(Number.isSafeInteger(r)&&r>=0||i,\"limit must be a positive integer or reference\"),s.assert(!n||Buffer.isEncoding(n),\"Invalid encoding:\",n),this._test(e,r,function(s,o,a){let c;if(i){if(c=r(o.reference||o.parent,a),!Number.isSafeInteger(c))return this.createError(\"string.ref\",{ref:r.key},o,a)}else c=r;return t(s,c,n)?s:this.createError(\"string.\"+e,{limit:c,value:s,encoding:n},o,a)})}}};f.String.prototype.min=f.compare(\"min\",(e,t,r)=>{return(r?Buffer.byteLength(e,r):e.length)>=t}),f.String.prototype.max=f.compare(\"max\",(e,t,r)=>{return(r?Buffer.byteLength(e,r):e.length)<=t}),f.String.prototype.length=f.compare(\"length\",(e,t,r)=>{return(r?Buffer.byteLength(e,r):e.length)===t}),f.String.prototype.uuid=f.String.prototype.guid,e.exports=new f.String},function(e,t){e.exports=require(\"net\")},function(e,t,r){\"use strict\";const n=r(28),s={Uri:{createUriRegex:function(e,t,r){let s,i=n.scheme;if(r)s=\"(?:\"+n.relativeRef+\")\";else{e&&(i=\"(?:\"+e+\")\");const r=\"(?:\"+i+\":\"+n.hierPart+\")\";s=t?\"(?:\"+r+\"|\"+n.relativeRef+\")\":r}return new RegExp(\"^\"+s+\"(?:\\\\?\"+n.query+\")?(?:#\"+n.fragment+\")?$\")}}};e.exports=s.Uri},function(e,t,r){\"use strict\";const n=r(28),s={Ip:{cidrs:{ipv4:{required:\"\\\\/(?:\"+n.ipv4Cidr+\")\",optional:\"(?:\\\\/(?:\"+n.ipv4Cidr+\"))?\",forbidden:\"\"},ipv6:{required:\"\\\\/\"+n.ipv6Cidr,optional:\"(?:\\\\/\"+n.ipv6Cidr+\")?\",forbidden:\"\"},ipvfuture:{required:\"\\\\/\"+n.ipv6Cidr,optional:\"(?:\\\\/\"+n.ipv6Cidr+\")?\",forbidden:\"\"}},versions:{ipv4:n.IPv4address,ipv6:n.IPv6address,ipvfuture:n.IPvFuture}}};s.Ip.createIpRegex=function(e,t){let r;for(let n=0;n<e.length;++n){const i=e[n];r?r+=\"|\"+s.Ip.versions[i]+s.Ip.cidrs[i][t]:r=\"^(?:\"+s.Ip.versions[i]+s.Ip.cidrs[i][t]}return new RegExp(r+\")$\")},e.exports=s.Ip},function(e,t,r){\"use strict\";const n=r(47),s=r(22),i={hasOwn:Object.prototype.hasOwnProperty,indexOf:Array.prototype.indexOf,defaultThreshold:16,maxIPv6Groups:8,categories:{valid:1,dnsWarn:7,rfc5321:15,cfws:31,deprecated:63,rfc5322:127,error:255},diagnoses:{valid:0,rfc5321TLD:9,rfc5321TLDNumeric:10,rfc5321QuotedString:11,rfc5321AddressLiteral:12,cfwsComment:17,cfwsFWS:18,undesiredNonAscii:25,deprecatedLocalPart:33,deprecatedFWS:34,deprecatedQTEXT:35,deprecatedQP:36,deprecatedComment:37,deprecatedCTEXT:38,deprecatedIPv6:39,deprecatedCFWSNearAt:49,rfc5322Domain:65,rfc5322TooLong:66,rfc5322LocalTooLong:67,rfc5322DomainTooLong:68,rfc5322LabelTooLong:69,rfc5322DomainLiteral:70,rfc5322DomainLiteralOBSDText:71,rfc5322IPv6GroupCount:72,rfc5322IPv62x2xColon:73,rfc5322IPv6BadCharacter:74,rfc5322IPv6MaxGroups:75,rfc5322IPv6ColonStart:76,rfc5322IPv6ColonEnd:77,errExpectingDTEXT:129,errNoLocalPart:130,errNoDomain:131,errConsecutiveDots:132,errATEXTAfterCFWS:133,errATEXTAfterQS:134,errATEXTAfterDomainLiteral:135,errExpectingQPair:136,errExpectingATEXT:137,errExpectingQTEXT:138,errExpectingCTEXT:139,errBackslashEnd:140,errDotStart:141,errDotEnd:142,errDomainHyphenStart:143,errDomainHyphenEnd:144,errUnclosedQuotedString:145,errUnclosedComment:146,errUnclosedDomainLiteral:147,errFWSCRLFx2:148,errFWSCRLFEnd:149,errCRNoLF:150,errUnknownTLD:160,errDomainTooShort:161},components:{localpart:0,domain:1,literal:2,contextComment:3,contextFWS:4,contextQuotedString:5,contextQuotedPair:6}};i.specials=function(){const e=new Array(256);e.fill(!1);for(let t=0;t<'()<>[]:;@\\\\,.\"'.length;++t)e['()<>[]:;@\\\\,.\"'.codePointAt(t)]=!0;return function(t){return e[t]}}(),i.c0Controls=function(){const e=new Array(256);e.fill(!1);for(let t=0;t<33;++t)e[t]=!0;return function(t){return e[t]}}(),i.c1Controls=function(){const e=new Array(256);e.fill(!1);for(let t=127;t<160;++t)e[t]=!0;return function(t){return e[t]}}(),i.regex={ipV4:/\\b(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,ipV6:/^[a-fA-F\\d]{0,4}$/},i.normalizeSupportsNul=\"\\0\"===\"\\0\".normalize(\"NFC\"),i.nulNormalize=function(e){return e.split(\"\\0\").map(e=>e.normalize(\"NFC\")).join(\"\\0\")},i.normalize=function(e){return!i.normalizeSupportsNul&&e.indexOf(\"\\0\")>=0?i.nulNormalize(e):e.normalize(\"NFC\")},i.checkIpV6=function(e){return e.every(e=>i.regex.ipV6.test(e))},i._isSet=(e=>e instanceof Set),i._isMap=(e=>e instanceof Map),i.isSet=s.types&&s.types.isSet||i._isSet,i.isMap=s.types&&s.types.isMap||i._isMap,i.normalizeTable=function(e){return i.isSet(e)||Array.isArray(e)?e:i.isMap(e)?e.keys():Object.keys(e)},i.canonicalizeAtom=function(e){return n.toASCII(e).toLowerCase()},i.includesMapped=function(e,t,r){for(const n of e)if(r===t(n))return!0;return!1},i.validDomain=function(e,t){const r=i.canonicalizeAtom(e);return t.tldBlacklist?!i.includesMapped(i.normalizeTable(t.tldBlacklist),i.canonicalizeAtom,r):i.includesMapped(i.normalizeTable(t.tldWhitelist),i.canonicalizeAtom,r)},t.validate=i.validate=function(e,t,r){let s,o;if(t=t||{},e=i.normalize(e),\"function\"==typeof t&&(r=t,t={}),\"function\"!=typeof r&&(r=null),\"number\"==typeof t.errorLevel?(s=!0,o=t.errorLevel):(s=!!t.errorLevel,o=i.diagnoses.valid),t.tldWhitelist)if(\"string\"==typeof t.tldWhitelist)t.tldWhitelist=[t.tldWhitelist];else if(\"object\"!=typeof t.tldWhitelist)throw new TypeError(\"expected array or object tldWhitelist\");if(t.tldBlacklist)if(\"string\"==typeof t.tldBlacklist)t.tldBlacklist=[t.tldBlacklist];else if(\"object\"!=typeof t.tldBlacklist)throw new TypeError(\"expected array or object tldBlacklist\");if(t.minDomainAtoms&&(t.minDomainAtoms!==(0|+t.minDomainAtoms)||t.minDomainAtoms<0))throw new TypeError(\"expected positive integer minDomainAtoms\");let a=i.diagnoses.valid;const c=e=>{e>a&&(a=e)};!(void 0===t.allowUnicode||!!t.allowUnicode)&&/[^\\x00-\\x7f]/.test(e)&&c(i.diagnoses.undesiredNonAscii);const l={now:i.components.localpart,prev:i.components.localpart,stack:[i.components.localpart]};let u=\"\";const f={local:\"\",domain:\"\"},h={locals:[\"\"],domains:[\"\"]};let p,d=0,g=0,m=0,y=!1,b=!1;const _=e.length;let v;for(let t=0;t<_;t+=v.length){switch(v=String.fromCodePoint(e.codePointAt(t)),l.now){case i.components.localpart:switch(v){case\"(\":0===g?c(0===d?i.diagnoses.cfwsComment:i.diagnoses.deprecatedComment):(c(i.diagnoses.cfwsComment),b=!0),l.stack.push(l.now),l.now=i.components.contextComment;break;case\".\":0===g?c(0===d?i.diagnoses.errDotStart:i.diagnoses.errConsecutiveDots):(b&&c(i.diagnoses.deprecatedLocalPart),b=!1,g=0,++d,f.local+=v,h.locals[d]=\"\");break;case'\"':0===g?(c(0===d?i.diagnoses.rfc5321QuotedString:i.diagnoses.deprecatedLocalPart),f.local+=v,h.locals[d]+=v,g+=Buffer.byteLength(v,\"utf8\"),b=!0,l.stack.push(l.now),l.now=i.components.contextQuotedString):c(i.diagnoses.errExpectingATEXT);break;case\"\\r\":if(_===++t||\"\\n\"!==e[t]){c(i.diagnoses.errCRNoLF);break}case\" \":case\"\\t\":0===g?c(0===d?i.diagnoses.cfwsFWS:i.diagnoses.deprecatedFWS):b=!0,l.stack.push(l.now),l.now=i.components.contextFWS,u=v;break;case\"@\":if(1!==l.stack.length)throw new Error(\"unexpected item on context stack\");0===f.local.length?c(i.diagnoses.errNoLocalPart):0===g?c(i.diagnoses.errDotEnd):Buffer.byteLength(f.local,\"utf8\")>64?c(i.diagnoses.rfc5322LocalTooLong):l.prev!==i.components.contextComment&&l.prev!==i.components.contextFWS||c(i.diagnoses.deprecatedCFWSNearAt),l.now=i.components.domain,l.stack[0]=i.components.domain,d=0,g=0,b=!1;break;default:if(b)switch(l.prev){case i.components.contextComment:case i.components.contextFWS:c(i.diagnoses.errATEXTAfterCFWS);break;case i.components.contextQuotedString:c(i.diagnoses.errATEXTAfterQS);break;default:throw new Error(\"more atext found where none is allowed, but unrecognized prev context: \"+l.prev)}else l.prev=l.now,p=v.codePointAt(0),(i.specials(p)||i.c0Controls(p)||i.c1Controls(p))&&c(i.diagnoses.errExpectingATEXT),f.local+=v,h.locals[d]+=v,g+=Buffer.byteLength(v,\"utf8\")}break;case i.components.domain:switch(v){case\"(\":0===g?c(0===d?i.diagnoses.deprecatedCFWSNearAt:i.diagnoses.deprecatedComment):(b=!0,c(i.diagnoses.cfwsComment)),l.stack.push(l.now),l.now=i.components.contextComment;break;case\".\":const r=n.encode(h.domains[d]).length;0===g?c(0===d?i.diagnoses.errDotStart:i.diagnoses.errConsecutiveDots):y?c(i.diagnoses.errDomainHyphenEnd):r>63&&c(i.diagnoses.rfc5322LabelTooLong),b=!1,g=0,++d,h.domains[d]=\"\",f.domain+=v;break;case\"[\":0===f.domain.length?(b=!0,g+=Buffer.byteLength(v,\"utf8\"),l.stack.push(l.now),l.now=i.components.literal,f.domain+=v,h.domains[d]+=v,f.literal=\"\"):c(i.diagnoses.errExpectingATEXT);break;case\"\\r\":if(_===++t||\"\\n\"!==e[t]){c(i.diagnoses.errCRNoLF);break}case\" \":case\"\\t\":0===g?c(0===d?i.diagnoses.deprecatedCFWSNearAt:i.diagnoses.deprecatedFWS):(c(i.diagnoses.cfwsFWS),b=!0),l.stack.push(l.now),l.now=i.components.contextFWS,u=v;break;default:if(b)switch(l.prev){case i.components.contextComment:case i.components.contextFWS:c(i.diagnoses.errATEXTAfterCFWS);break;case i.components.literal:c(i.diagnoses.errATEXTAfterDomainLiteral);break;default:throw new Error(\"more atext found where none is allowed, but unrecognized prev context: \"+l.prev)}p=v.codePointAt(0),y=!1,i.specials(p)||i.c0Controls(p)||i.c1Controls(p)?c(i.diagnoses.errExpectingATEXT):\"-\"===v?(0===g&&c(i.diagnoses.errDomainHyphenStart),y=!0):(p<48||p>122&&p<192||p>57&&p<65||p>90&&p<97)&&c(i.diagnoses.rfc5322Domain),f.domain+=v,h.domains[d]+=v,g+=Buffer.byteLength(v,\"utf8\")}break;case i.components.literal:switch(v){case\"]\":if(a<i.categories.deprecated){let e=-1,t=f.literal;const r=i.regex.ipV4.exec(t);if(r&&0!==(e=r.index)&&(t=t.slice(0,e)+\"0:0\"),0===e)c(i.diagnoses.rfc5321AddressLiteral);else if(\"ipv6:\"!==t.slice(0,5).toLowerCase())c(i.diagnoses.rfc5322DomainLiteral);else{const r=t.slice(5);let n=i.maxIPv6Groups;const s=r.split(\":\");~(e=r.indexOf(\"::\"))?e!==r.lastIndexOf(\"::\")?c(i.diagnoses.rfc5322IPv62x2xColon):(0!==e&&e!==r.length-2||++n,s.length>n?c(i.diagnoses.rfc5322IPv6MaxGroups):s.length===n&&c(i.diagnoses.deprecatedIPv6)):s.length!==n&&c(i.diagnoses.rfc5322IPv6GroupCount),\":\"===r[0]&&\":\"!==r[1]?c(i.diagnoses.rfc5322IPv6ColonStart):\":\"===r[r.length-1]&&\":\"!==r[r.length-2]?c(i.diagnoses.rfc5322IPv6ColonEnd):i.checkIpV6(s)?c(i.diagnoses.rfc5321AddressLiteral):c(i.diagnoses.rfc5322IPv6BadCharacter)}}else c(i.diagnoses.rfc5322DomainLiteral);f.domain+=v,h.domains[d]+=v,g+=Buffer.byteLength(v,\"utf8\"),l.prev=l.now,l.now=l.stack.pop();break;case\"\\\\\":c(i.diagnoses.rfc5322DomainLiteralOBSDText),l.stack.push(l.now),l.now=i.components.contextQuotedPair;break;case\"\\r\":if(_===++t||\"\\n\"!==e[t]){c(i.diagnoses.errCRNoLF);break}case\" \":case\"\\t\":c(i.diagnoses.cfwsFWS),l.stack.push(l.now),l.now=i.components.contextFWS,u=v;break;default:if(127!==(p=v.codePointAt(0))&&i.c1Controls(p)||0===p||\"[\"===v){c(i.diagnoses.errExpectingDTEXT);break}(i.c0Controls(p)||127===p)&&c(i.diagnoses.rfc5322DomainLiteralOBSDText),f.literal+=v,f.domain+=v,h.domains[d]+=v,g+=Buffer.byteLength(v,\"utf8\")}break;case i.components.contextQuotedString:switch(v){case\"\\\\\":l.stack.push(l.now),l.now=i.components.contextQuotedPair;break;case\"\\r\":if(_===++t||\"\\n\"!==e[t]){c(i.diagnoses.errCRNoLF);break}case\"\\t\":f.local+=\" \",h.locals[d]+=\" \",g+=Buffer.byteLength(v,\"utf8\"),c(i.diagnoses.cfwsFWS),l.stack.push(l.now),l.now=i.components.contextFWS,u=v;break;case'\"':f.local+=v,h.locals[d]+=v,g+=Buffer.byteLength(v,\"utf8\"),l.prev=l.now,l.now=l.stack.pop();break;default:127!==(p=v.codePointAt(0))&&i.c1Controls(p)||0===p||10===p?c(i.diagnoses.errExpectingQTEXT):(i.c0Controls(p)||127===p)&&c(i.diagnoses.deprecatedQTEXT),f.local+=v,h.locals[d]+=v,g+=Buffer.byteLength(v,\"utf8\")}break;case i.components.contextQuotedPair:127!==(p=v.codePointAt(0))&&i.c1Controls(p)?c(i.diagnoses.errExpectingQPair):(p<31&&9!==p||127===p)&&c(i.diagnoses.deprecatedQP),l.prev=l.now,l.now=l.stack.pop();const r=\"\\\\\"+v;switch(l.now){case i.components.contextComment:break;case i.components.contextQuotedString:f.local+=r,h.locals[d]+=r,g+=2;break;case i.components.literal:f.domain+=r,h.domains[d]+=r,g+=2;break;default:throw new Error(\"quoted pair logic invoked in an invalid context: \"+l.now)}break;case i.components.contextComment:switch(v){case\"(\":l.stack.push(l.now),l.now=i.components.contextComment;break;case\")\":l.prev=l.now,l.now=l.stack.pop();break;case\"\\\\\":l.stack.push(l.now),l.now=i.components.contextQuotedPair;break;case\"\\r\":if(_===++t||\"\\n\"!==e[t]){c(i.diagnoses.errCRNoLF);break}case\" \":case\"\\t\":c(i.diagnoses.cfwsFWS),l.stack.push(l.now),l.now=i.components.contextFWS,u=v;break;default:if(0===(p=v.codePointAt(0))||10===p||127!==p&&i.c1Controls(p)){c(i.diagnoses.errExpectingCTEXT);break}(i.c0Controls(p)||127===p)&&c(i.diagnoses.deprecatedCTEXT)}break;case i.components.contextFWS:if(\"\\r\"===u){if(\"\\r\"===v){c(i.diagnoses.errFWSCRLFx2);break}++m>1?c(i.diagnoses.deprecatedFWS):m=1}switch(v){case\"\\r\":_!==++t&&\"\\n\"===e[t]||c(i.diagnoses.errCRNoLF);break;case\" \":case\"\\t\":break;default:\"\\r\"===u&&c(i.diagnoses.errFWSCRLFEnd),m=0,l.prev=l.now,l.now=l.stack.pop(),--t}u=v;break;default:throw new Error(\"unknown context: \"+l.now)}if(a>i.categories.rfc5322)break}if(a<i.categories.rfc5322){const e=n.encode(f.domain).length;if(l.now===i.components.contextQuotedString)c(i.diagnoses.errUnclosedQuotedString);else if(l.now===i.components.contextQuotedPair)c(i.diagnoses.errBackslashEnd);else if(l.now===i.components.contextComment)c(i.diagnoses.errUnclosedComment);else if(l.now===i.components.literal)c(i.diagnoses.errUnclosedDomainLiteral);else if(\"\\r\"===v)c(i.diagnoses.errFWSCRLFEnd);else if(0===f.domain.length)c(i.diagnoses.errNoDomain);else if(0===g)c(i.diagnoses.errDotEnd);else if(y)c(i.diagnoses.errDomainHyphenEnd);else if(e>255)c(i.diagnoses.rfc5322DomainTooLong);else if(Buffer.byteLength(f.local,\"utf8\")+e+1>254)c(i.diagnoses.rfc5322TooLong);else if(g>63)c(i.diagnoses.rfc5322LabelTooLong);else if(t.minDomainAtoms&&h.domains.length<t.minDomainAtoms)c(i.diagnoses.errDomainTooShort);else if(t.tldWhitelist||t.tldBlacklist){const e=h.domains[d];i.validDomain(e,t)||c(i.diagnoses.errUnknownTLD)}}if(a<i.categories.dnsWarn){h.domains[d].codePointAt(0)<=57&&c(i.diagnoses.rfc5321TLDNumeric)}a<o&&(a=i.diagnoses.valid);const w=s?a:a<i.defaultThreshold;return r&&r(w),w},t.diagnoses=i.validate.diagnoses=function(){const e={},t=Object.keys(i.diagnoses);for(let r=0;r<t.length;++r){const n=t[r];e[n]=i.diagnoses[n]}return e}(),t.normalize=i.normalize},function(e,t){e.exports=require(\"punycode\")},function(e){e.exports={_from:\"joi\",_id:\"joi@13.4.0\",_inBundle:!1,_integrity:\"sha512-JuK4GjEu6j7zr9FuVe2MAseZ6si/8/HaY0qMAejfDFHp7jcH4OKE937mIHM5VT4xDS0q7lpQbszbxKV9rm0yUg==\",_location:\"/joi\",_phantomChildren:{},_requested:{type:\"tag\",registry:!0,raw:\"joi\",name:\"joi\",escapedName:\"joi\",rawSpec:\"\",saveSpec:null,fetchSpec:\"latest\"},_requiredBy:[\"#USER\",\"/\"],_resolved:\"https://registry.npmjs.org/joi/-/joi-13.4.0.tgz\",_shasum:\"afc359ee3d8bc5f9b9ba6cdc31b46d44af14cecc\",_spec:\"joi\",_where:\"/Users/dan/Documents/GitHub/RestAPI\",bugs:{url:\"https://github.com/hapijs/joi/issues\"},bundleDependencies:!1,dependencies:{hoek:\"5.x.x\",isemail:\"3.x.x\",topo:\"3.x.x\"},deprecated:!1,description:\"Object schema validation\",devDependencies:{code:\"5.x.x\",hapitoc:\"1.x.x\",lab:\"15.x.x\"},engines:{node:\">=8.9.0\"},homepage:\"https://github.com/hapijs/joi\",keywords:[\"hapi\",\"schema\",\"validation\"],license:\"BSD-3-Clause\",main:\"lib/index.js\",name:\"joi\",repository:{type:\"git\",url:\"git://github.com/hapijs/joi.git\"},scripts:{test:\"lab -t 100 -a code -L\",\"test-cov-html\":\"lab -r html -o coverage.html -a code\",\"test-debug\":\"lab -a code\",toc:\"hapitoc\",version:\"npm run toc && git add API.md README.md\"},version:\"13.4.0\"}}]);","extractedComments":[]}